{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Chain-Aware ROS Evaluation Tool (CARET) # \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3092\u8003\u616e\u3057\u305f ROS 2 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6027\u80fd\u8a55\u4fa1\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u30d5\u30c3\u30af\u3067\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u306b\u3088\u308a\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305f\u6027\u80fd\u306e\u8a55\u4fa1\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4e3b\u306a\u7279\u5fb4 \u4ee5\u4e0b\u306e\u5bfe\u8c61\u306b\u3064\u3044\u3066\u3001\u8a55\u4fa1\u304a\u3088\u3073\u6e2c\u5b9a\u304c\u53ef\u80fd \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7 \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ed\u30b9\u30c8 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7 End-to-End \u30ec\u30a4\u30c6\u30f3\u30b7 \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0 LTTng (ros2_tracing) \u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3088\u308b\u4f4e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9 \u6027\u80fd\u8a55\u4fa1\u306e\u6d41\u308c # CARET\u306fros2_tracing\u306b\u3088\u308a\u8ffd\u52a0\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u52a0\u3048\u3001 ROS\u3084DDS\u306e\u51e6\u7406\u306b\u5bfe\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u51e6\u7406\u304b\u304b\u308b\u6642\u9593\u306e\u6e2c\u5b9a\u3092\u53ef\u80fd\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u52d5\u7684\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u51e6\u7406\u3092\u30d5\u30c3\u30af\u3059\u308b\u305f\u3081\u306e\u30c8\u30ec\u30fc\u30b9\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u52a0\u3048\u3001 \u30d5\u30a9\u30fc\u30af\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305fROS\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002 \u73fe\u5728\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306e\u63d0\u4f9b\u306e\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u308c\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u3067\u3059\u3002 \u6e2c\u5b9a\u3092\u884c\u3046\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304c\u5f97\u3089\u308c\u3001\u3053\u306e\u7d50\u679c\u3092\u5143\u306b\u3001\u89e3\u6790\u3092\u884c\u3044\u307e\u3059\u3002 \u89e3\u6790\u524d\u306b\u306f\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3084\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u306e\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u89e3\u6790\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3001\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u304c\u63c3\u3044\u3001\u6027\u80fd\u306e\u8a55\u4fa1\u3084\u89e3\u6790\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4e00\u90e8CLI\u3067\u306e\u53ef\u8996\u5316\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4e3b\u306bjupyter\u4e0a\u3067\u306e\u8a55\u4fa1\u30fb\u89e3\u6790\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4e00\u89a7 # \u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb # CARET\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\u3067\u3059\u3002 \u74b0\u5883\u69cb\u7bc9 \u6e2c\u5b9a \u8a55\u4fa1\u6e96\u5099 \u6027\u80fd\u8a55\u4fa1 \u88dc\u8db3\u8cc7\u6599 # \u4f7f\u7528\u3059\u308b\u4e0a\u3067\u306e\u88dc\u8db3\u8cc7\u6599\u3067\u3059\u3002 \u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066 \u30c4\u30fc\u30eb\u5229\u7528\u6642\u306e\u5236\u7d04 \u30ae\u30e3\u30e9\u30ea\u30fc \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 \u8a2d\u8a08\u8cc7\u6599 # \u5185\u90e8\u306e\u5b9f\u88c5\u306a\u3069\u306b\u95a2\u3059\u308b\u8cc7\u6599\u3067\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 galactic \u3068\u306e\u5dee\u5206 \u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7 # CARET \u306f\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 CARET_trace \uff5c \u30d5\u30c3\u30af\u306b\u3088\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_analyze \uff5c \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u89e3\u6790\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_analyze_cpp_impl \uff5c \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u89e3\u6790\u30b9\u30af\u30ea\u30d7\u30c8\u306e C++\u5b9f\u88c5\u7248 ros2caret \uff5c ros2 cli \u7528 \u30ea\u30dd\u30b8\u30c8\u30ea CARET_demos \uff5c\u30c7\u30e2\u30d7\u30ed\u30b0\u30e9\u30e0\u96c6\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_doc \uff5c\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea rclcpp \uff5c \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305frclcpp ros2_tracing \uff5crclcpp\u8ffd\u52a0\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u5b9a\u7fa9\u3057\u305fros2_tracing This software is based on results obtained from a project subsidized by the New Energy and Industrial Technology Development Organization (NEDO).","title":"Overview"},{"location":"#chain-aware-ros-evaluation-tool-caret","text":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3092\u8003\u616e\u3057\u305f ROS 2 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6027\u80fd\u8a55\u4fa1\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u30d5\u30c3\u30af\u3067\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u306b\u3088\u308a\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305f\u6027\u80fd\u306e\u8a55\u4fa1\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4e3b\u306a\u7279\u5fb4 \u4ee5\u4e0b\u306e\u5bfe\u8c61\u306b\u3064\u3044\u3066\u3001\u8a55\u4fa1\u304a\u3088\u3073\u6e2c\u5b9a\u304c\u53ef\u80fd \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7 \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ed\u30b9\u30c8 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7 End-to-End \u30ec\u30a4\u30c6\u30f3\u30b7 \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0 LTTng (ros2_tracing) \u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3088\u308b\u4f4e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9","title":"Chain-Aware ROS Evaluation Tool (CARET)"},{"location":"#_1","text":"CARET\u306fros2_tracing\u306b\u3088\u308a\u8ffd\u52a0\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u52a0\u3048\u3001 ROS\u3084DDS\u306e\u51e6\u7406\u306b\u5bfe\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u51e6\u7406\u304b\u304b\u308b\u6642\u9593\u306e\u6e2c\u5b9a\u3092\u53ef\u80fd\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u52d5\u7684\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u51e6\u7406\u3092\u30d5\u30c3\u30af\u3059\u308b\u305f\u3081\u306e\u30c8\u30ec\u30fc\u30b9\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u52a0\u3048\u3001 \u30d5\u30a9\u30fc\u30af\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305fROS\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002 \u73fe\u5728\u306f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306e\u63d0\u4f9b\u306e\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u308c\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u3067\u3059\u3002 \u6e2c\u5b9a\u3092\u884c\u3046\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304c\u5f97\u3089\u308c\u3001\u3053\u306e\u7d50\u679c\u3092\u5143\u306b\u3001\u89e3\u6790\u3092\u884c\u3044\u307e\u3059\u3002 \u89e3\u6790\u524d\u306b\u306f\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3084\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u306e\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u89e3\u6790\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3001\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u304c\u63c3\u3044\u3001\u6027\u80fd\u306e\u8a55\u4fa1\u3084\u89e3\u6790\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4e00\u90e8CLI\u3067\u306e\u53ef\u8996\u5316\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4e3b\u306bjupyter\u4e0a\u3067\u306e\u8a55\u4fa1\u30fb\u89e3\u6790\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u6027\u80fd\u8a55\u4fa1\u306e\u6d41\u308c"},{"location":"#_2","text":"","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4e00\u89a7"},{"location":"#_3","text":"CARET\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306e\u8aac\u660e\u3067\u3059\u3002 \u74b0\u5883\u69cb\u7bc9 \u6e2c\u5b9a \u8a55\u4fa1\u6e96\u5099 \u6027\u80fd\u8a55\u4fa1","title":"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb"},{"location":"#_4","text":"\u4f7f\u7528\u3059\u308b\u4e0a\u3067\u306e\u88dc\u8db3\u8cc7\u6599\u3067\u3059\u3002 \u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066 \u30c4\u30fc\u30eb\u5229\u7528\u6642\u306e\u5236\u7d04 \u30ae\u30e3\u30e9\u30ea\u30fc \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","title":"\u88dc\u8db3\u8cc7\u6599"},{"location":"#_5","text":"\u5185\u90e8\u306e\u5b9f\u88c5\u306a\u3069\u306b\u95a2\u3059\u308b\u8cc7\u6599\u3067\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 galactic \u3068\u306e\u5dee\u5206","title":"\u8a2d\u8a08\u8cc7\u6599"},{"location":"#_6","text":"CARET \u306f\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 CARET_trace \uff5c \u30d5\u30c3\u30af\u306b\u3088\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_analyze \uff5c \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u89e3\u6790\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_analyze_cpp_impl \uff5c \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u89e3\u6790\u30b9\u30af\u30ea\u30d7\u30c8\u306e C++\u5b9f\u88c5\u7248 ros2caret \uff5c ros2 cli \u7528 \u30ea\u30dd\u30b8\u30c8\u30ea CARET_demos \uff5c\u30c7\u30e2\u30d7\u30ed\u30b0\u30e9\u30e0\u96c6\u306e\u30ea\u30dd\u30b8\u30c8\u30ea CARET_doc \uff5c\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30ea\u30dd\u30b8\u30c8\u30ea rclcpp \uff5c \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305frclcpp ros2_tracing \uff5crclcpp\u8ffd\u52a0\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u5b9a\u7fa9\u3057\u305fros2_tracing This software is based on results obtained from a project subsidized by the New Energy and Industrial Technology Development Organization (NEDO).","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u4e00\u89a7"},{"location":"design/design/","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 #","title":"\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"design/design/#_1","text":"","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"design/diff/","text":"ROS 2 galactic \u3068\u306e\u5dee\u5206 # caret.repos \u306b\u306f caret \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4ed6\u306b\u3001\u4ee5\u4e0b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002 https://github.com/ros2/rcl.git https://github.com/tier4/rclcpp/tree/galactic_tracepoint_added https://github.com/tier4/ros2_tracing/tree/galactic_tracepoint_added https://github.com/eclipse-cyclonedds/cyclonedds.git \u305d\u308c\u305e\u308c\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5dee\u5206\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 rcl # \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u306a\u3057\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306e\u518d\u30d3\u30eb\u30c9\u3002 rclcpp # \u30ea\u30dd\u30b8\u30c8\u30ea\uff1a https://github.com/tier4/rclcpp/tree/galactic_tracepoint_added \u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 \u306e [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u3068\u306a\u308a\u307e\u3059\u3002 rclcpp \u5b9f\u88c5\u306e\u7406\u7531 \u4e0a\u8a18\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u95a2\u6570\u5185\u306b\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u88c5\u306f\u30d8\u30c3\u30c0\u30fc\u306b\u542b\u307e\u308c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30a4\u30ca\u30ea\u5185\u306b\u751f\u6210\u3055\u308c\u307e\u3059 LD_PRELOAD \u3067\u306e\u30d5\u30c3\u30af\u304c\u4e0d\u53ef\u80fd\u306a\u6e2c\u5b9a\u7b87\u6240\u306a\u305f\u3081\u3001 rclcpp \u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30d3\u30eb\u30c9\u3092\u901a\u3059\u305f\u3081\u306b ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 rclcpp \u306b ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u305f\u7406\u7531 LD_PRELOAD \u3067\u306f\u5b9f\u884c\u958b\u59cb\u76f4\u5f8c\u306b\u30ab\u30b9\u30bf\u30e0\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u512a\u5148\u3057\u3066\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4e00\u65b9\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30d8\u30c3\u30c0\u30fc\u306b\u8ffd\u52a0\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u306f\u3001\u30d3\u30eb\u30c9\u6642\u306e\u30d8\u30c3\u30c0\u30fc\u63a2\u7d22\u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248\u30d8\u30c3\u30c0\u30fc\u304c\u512a\u5148\u3057\u3066\u8aad\u307f\u8fbc\u307e\u308c\u308b\u5fc5\u8981\u3042\u308a\u307e\u3059\u3002 gcc \u306e -I \u30d5\u30e9\u30b0\u3084 CPATH \u306a\u3069\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u304c\u3001\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 rclcpp/include, /opt/ros/galactic/include \uff08ros2_tracing \u542b\u3080\uff09,\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 tracetools/include \u306e\u9806\u3068\u306a\u308a\u3001\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u672a\u5b9a\u7fa9\u306e\u30a8\u30e9\u30fc\u3067\u30d3\u30eb\u30c9\u304c\u901a\u305b\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 tracetools/include \u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u4e00\u6642\u7684\u306b rclcpp/include \u914d\u4e0b\u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002 ros2 \u672c\u5bb6\u3078\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u30de\u30fc\u30b8\u3092\u691c\u8a0e\u3057\u3066\u3044\u304f\u969b\u306b\u306f\u3001rclcpp \u3078\u306e ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002 ros2_tracing # rclcpp \u3067\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0 \u30ea\u30dd\u30b8\u30c8\u30ea\uff1a https://github.com/tier4/ros2_tracing/tree/galactic_tracepoint_added \u30d5\u30c3\u30af\u3067\u306f\u306a\u304f\u3001rclcpp \u3078\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u7406\u7531\u306b\u3064\u3044\u3066\u306f\u3001\u300crclcpp \u5b9f\u88c5\u306e\u7406\u7531\u300d\u3092\u53c2\u7167\u3002 cyclonedds # \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u306a\u3057\u3002 DDS \u30ec\u30a4\u30c6\u30f3\u30b7\u7b97\u51fa\u306e\u305f\u3081\u306e\u8a66\u9a13\u5c0e\u5165","title":"galactic\u3068\u306e\u5dee\u5206"},{"location":"design/diff/#ros-2-galactic","text":"caret.repos \u306b\u306f caret \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4ed6\u306b\u3001\u4ee5\u4e0b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002 https://github.com/ros2/rcl.git https://github.com/tier4/rclcpp/tree/galactic_tracepoint_added https://github.com/tier4/ros2_tracing/tree/galactic_tracepoint_added https://github.com/eclipse-cyclonedds/cyclonedds.git \u305d\u308c\u305e\u308c\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5dee\u5206\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002","title":"ROS 2 galactic \u3068\u306e\u5dee\u5206"},{"location":"design/diff/#rcl","text":"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u306a\u3057\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306e\u518d\u30d3\u30eb\u30c9\u3002","title":"rcl"},{"location":"design/diff/#rclcpp","text":"\u30ea\u30dd\u30b8\u30c8\u30ea\uff1a https://github.com/tier4/rclcpp/tree/galactic_tracepoint_added \u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 \u306e [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u3068\u306a\u308a\u307e\u3059\u3002 rclcpp \u5b9f\u88c5\u306e\u7406\u7531 \u4e0a\u8a18\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u95a2\u6570\u5185\u306b\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u88c5\u306f\u30d8\u30c3\u30c0\u30fc\u306b\u542b\u307e\u308c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30a4\u30ca\u30ea\u5185\u306b\u751f\u6210\u3055\u308c\u307e\u3059 LD_PRELOAD \u3067\u306e\u30d5\u30c3\u30af\u304c\u4e0d\u53ef\u80fd\u306a\u6e2c\u5b9a\u7b87\u6240\u306a\u305f\u3081\u3001 rclcpp \u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30d3\u30eb\u30c9\u3092\u901a\u3059\u305f\u3081\u306b ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 rclcpp \u306b ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u305f\u7406\u7531 LD_PRELOAD \u3067\u306f\u5b9f\u884c\u958b\u59cb\u76f4\u5f8c\u306b\u30ab\u30b9\u30bf\u30e0\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u512a\u5148\u3057\u3066\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4e00\u65b9\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30d8\u30c3\u30c0\u30fc\u306b\u8ffd\u52a0\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u306f\u3001\u30d3\u30eb\u30c9\u6642\u306e\u30d8\u30c3\u30c0\u30fc\u63a2\u7d22\u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248\u30d8\u30c3\u30c0\u30fc\u304c\u512a\u5148\u3057\u3066\u8aad\u307f\u8fbc\u307e\u308c\u308b\u5fc5\u8981\u3042\u308a\u307e\u3059\u3002 gcc \u306e -I \u30d5\u30e9\u30b0\u3084 CPATH \u306a\u3069\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u304c\u3001\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 rclcpp/include, /opt/ros/galactic/include \uff08ros2_tracing \u542b\u3080\uff09,\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 tracetools/include \u306e\u9806\u3068\u306a\u308a\u3001\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u672a\u5b9a\u7fa9\u306e\u30a8\u30e9\u30fc\u3067\u30d3\u30eb\u30c9\u304c\u901a\u305b\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u7248 tracetools/include \u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u4e00\u6642\u7684\u306b rclcpp/include \u914d\u4e0b\u306b\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002 ros2 \u672c\u5bb6\u3078\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u30de\u30fc\u30b8\u3092\u691c\u8a0e\u3057\u3066\u3044\u304f\u969b\u306b\u306f\u3001rclcpp \u3078\u306e ros2_tracing \u306e include \u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002","title":"rclcpp"},{"location":"design/diff/#ros2_tracing","text":"rclcpp \u3067\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0 \u30ea\u30dd\u30b8\u30c8\u30ea\uff1a https://github.com/tier4/ros2_tracing/tree/galactic_tracepoint_added \u30d5\u30c3\u30af\u3067\u306f\u306a\u304f\u3001rclcpp \u3078\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u7406\u7531\u306b\u3064\u3044\u3066\u306f\u3001\u300crclcpp \u5b9f\u88c5\u306e\u7406\u7531\u300d\u3092\u53c2\u7167\u3002","title":"ros2_tracing"},{"location":"design/diff/#cyclonedds","text":"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u306a\u3057\u3002 DDS \u30ec\u30a4\u30c6\u30f3\u30b7\u7b97\u51fa\u306e\u305f\u3081\u306e\u8a66\u9a13\u5c0e\u5165","title":"cyclonedds"},{"location":"design/how_to_calculate_latency/","text":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u8a08\u7b97\u65b9\u6cd5 # \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5 # \u4ee5\u4e0b\u306f\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u8868\u3057\u305f\u56f3\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5 # \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306epublish\u306e\u6642\u523b\u3068\u3001\u5f8c\u7d9a\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u958b\u59cb\u3057\u305f\u6642\u523b\u306e\u5dee\u5206\u3067\u8a08\u7b97\u3057\u3066\u3044\u307e\u3059\u3002 \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1 # \u6b21\u306e\u8868\u306f\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306e\u30c8\u30ec\u30fc\u30b9\u306b\u5fc5\u8981\u306a\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u3001\u305d\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5f15\u6570\uff08\u30c8\u30ec\u30fc\u30b9\u30c7\u30fc\u30bf\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u308b\u3082\u306e\uff09\u3067\u3059\u3002\u203b\u7c21\u6613\u7248 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540d \u5f15\u65701 \u5f15\u65702 \u6642\u523b rclcpp_intra_publish publisher_handle_arg message_arg time1 dispatch_intra_process_subscription_callback message_arg callback_arg time2 callback_start callback_arg is_intra_process time3 \u203b \u5f15\u6570\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u7167 message_arg\u3068callback_arg\u306b\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 rclcpp_intra_publisher\u3068dispatch_intra_process_subscription_callback\u306f\u540c\u3058message_arg\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3067\u7d10\u3065\u3051\u3001dispatch_intra_process_subscription_callback\u3068callback_start\u306f\u540c\u3058callback_arg\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3067\u7d10\u3065\u3051\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u8868\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u6700\u5f8c\u306b callback_start - rclcpp_intra_publish \u3067 \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306e\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u3066\u3044\u307e\u3059\u3002 idx rclcpp_intra_publish dispatch_intra_process_subscription_callback callback_start 0 time1 time2 time3 1 ... ... ... \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1 # \u4ee5\u4e0b\u306f\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u305d\u306e\u5f15\u6570\u3067\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540d \u5f15\u65701 \u5f15\u65702 \u5f15\u65703 \u6642\u523b rclcpp_publish publisher_handle_arg message_arg @1 time1 rcl_publish publisher_handle_arg message_arg @1 time2 dds_write publisher_handle_arg message_arg @1 time3 dds_bind_addr_to_stamp message_arg @1 stamp_arg time4 dispatch_subscription_callback messsage_arg@2 stamp_arg callback_arg time5 callback_start callback_arg is_intra_process time6 \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u3068\u540c\u69d8\u306b\u540c\u3058\u5f15\u6570\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3092\u7d10\u3065\u3051\u3066\u3044\u304d\u3001publish\u304b\u3089callback_start\u307e\u3067\u306e\u8868\u3092\u4f5c\u6210\u3057\u307e\u3059\uff08\u4e0b\u8a18\u8868\uff09\u3002 1\u884c\u304c1\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30c1\u30a7\u30fc\u30f3\u3092\u8868\u3057\u3001 callback_start - rclcpp_publish \u306b\u3066 \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 idx rclcpp_publish rcl_publish dds_write dds_bind_addr_to_stamp dispatch_subscription_callback callback_start 0 time1 time2 time3 time4 time5 time6 1 ... ... ... ... ... ...\u3000 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5 # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u624b\u6cd5\u30fb\u9577\u6240\u30fb\u77ed\u6240\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306e\u5229\u7528 # \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6e2c\u5b9a\u306f\u3001\u540c\u3058\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30a2\u30c9\u30ec\u30b9\u3092\u6301\u3064callback_start\u3068rclcpp_publish\u306e\u5dee\u5206\u3092\u4f7f\u3063\u3066\u7b97\u51fa\u3057\u307e\u3059\u3002 callback_start\u3068rclcpp_publish\u306e\u7d10\u3065\u3051\u306f\u3001rclcpp_publish\u304b\u3089\u898b\u3066\u4e00\u756a\u8fd1\u3044callback_start\u3068\u7d10\u3065\u3051\u307e\u3059\u3002 idx callback_start (cb_A) [s] rclcpp_publish (cb_A) [s] callback_end (cb_A) [s] callback_arg (cb_A) 0 0 3 4 0x1000 1 2 5 6 0x1000 2 4 7 8 0x1000 ... ... ... ... ... idx callback_start (cb_B) [s] rclcpp_publish (cb_B) [s] callback_end (cb_B) [s] callback_arg (cb_B) 0 4 8 9 0x2000 1 8 12 13 0x2000 2 10 14 15 0x2000 \u4e0a\u8a18\u8868\u306e\u3088\u3046\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30afA\u30fbB\uff08cb_A\u30fbcb_B\uff09\u304c\u5b58\u5728\u3057\u3001A\u2192B\u3068\u51e6\u7406\u304c\u7d9a\u304f\u6642\u3001cb_A\u306ecallback_end\u3068cb_B\u306ecallback_start\u3092\u7d50\u3073\u4ed8\u3051\u3066\u8868\u3092\u4f5c\u308a\u307e\u3059\u3002 \u6700\u5f8c\u306ecallback\u3060\u3051\u306fpublish\u306e\u6642\u306e\u6642\u523b\u3092\u63a1\u7528\u3057\u3001\u4e0b\u8a18\u8868\u306e\u3088\u3046\u306b\u4e00\u3064\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u3057\u307e\u3059\u3002 idx callback_start (cb_A) [s] callback_end (cb_A) [s] callback_start (cb_B) [s] rclcpp_publish (cb_B) [s] 0 0 4 4 8 1 2 6 Lost Lost 2 4 8 8 12 ... ... ... ... ... \u4e0a\u8a18\u306e\u3088\u3046\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3092\u3064\u306a\u304e\u3001 rclcpp_publish (cb_X) - callback_start (cb_Y) \u3067 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u203b\u30ce\u30fc\u30c9\u5185\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\uff11\u3064\u306e\u5834\u5408\u3001X, Y\u306f\u540c\u3058\u3082\u306e\u3092\u6307\u3057\u307e\u3059\u3002 \u8907\u6570\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u3042\u308b\u5834\u5408\u306f\u3001X\u304c\u6700\u5f8c\u30fbY\u304c\u6700\u521d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u3057\u307e\u3059\u3002","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5"},{"location":"design/how_to_calculate_latency/#_1","text":"","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u8a08\u7b97\u65b9\u6cd5"},{"location":"design/how_to_calculate_latency/#_2","text":"\u4ee5\u4e0b\u306f\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u8868\u3057\u305f\u56f3\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3068\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5"},{"location":"design/how_to_calculate_latency/#_3","text":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306epublish\u306e\u6642\u523b\u3068\u3001\u5f8c\u7d9a\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u958b\u59cb\u3057\u305f\u6642\u523b\u306e\u5dee\u5206\u3067\u8a08\u7b97\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5"},{"location":"design/how_to_calculate_latency/#_4","text":"\u6b21\u306e\u8868\u306f\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306e\u30c8\u30ec\u30fc\u30b9\u306b\u5fc5\u8981\u306a\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u3001\u305d\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5f15\u6570\uff08\u30c8\u30ec\u30fc\u30b9\u30c7\u30fc\u30bf\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u308b\u3082\u306e\uff09\u3067\u3059\u3002\u203b\u7c21\u6613\u7248 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540d \u5f15\u65701 \u5f15\u65702 \u6642\u523b rclcpp_intra_publish publisher_handle_arg message_arg time1 dispatch_intra_process_subscription_callback message_arg callback_arg time2 callback_start callback_arg is_intra_process time3 \u203b \u5f15\u6570\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u7167 message_arg\u3068callback_arg\u306b\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 rclcpp_intra_publisher\u3068dispatch_intra_process_subscription_callback\u306f\u540c\u3058message_arg\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3067\u7d10\u3065\u3051\u3001dispatch_intra_process_subscription_callback\u3068callback_start\u306f\u540c\u3058callback_arg\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3067\u7d10\u3065\u3051\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u8868\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u6700\u5f8c\u306b callback_start - rclcpp_intra_publish \u3067 \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306e\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u3066\u3044\u307e\u3059\u3002 idx rclcpp_intra_publish dispatch_intra_process_subscription_callback callback_start 0 time1 time2 time3 1 ... ... ...","title":"\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1"},{"location":"design/how_to_calculate_latency/#_5","text":"\u4ee5\u4e0b\u306f\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u305d\u306e\u5f15\u6570\u3067\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540d \u5f15\u65701 \u5f15\u65702 \u5f15\u65703 \u6642\u523b rclcpp_publish publisher_handle_arg message_arg @1 time1 rcl_publish publisher_handle_arg message_arg @1 time2 dds_write publisher_handle_arg message_arg @1 time3 dds_bind_addr_to_stamp message_arg @1 stamp_arg time4 dispatch_subscription_callback messsage_arg@2 stamp_arg callback_arg time5 callback_start callback_arg is_intra_process time6 \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u3068\u540c\u69d8\u306b\u540c\u3058\u5f15\u6570\u3092\u6301\u3064\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u540c\u58eb\u3092\u7d10\u3065\u3051\u3066\u3044\u304d\u3001publish\u304b\u3089callback_start\u307e\u3067\u306e\u8868\u3092\u4f5c\u6210\u3057\u307e\u3059\uff08\u4e0b\u8a18\u8868\uff09\u3002 1\u884c\u304c1\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30c1\u30a7\u30fc\u30f3\u3092\u8868\u3057\u3001 callback_start - rclcpp_publish \u306b\u3066 \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 idx rclcpp_publish rcl_publish dds_write dds_bind_addr_to_stamp dispatch_subscription_callback callback_start 0 time1 time2 time3 time4 time5 time6 1 ... ... ... ... ... ...","title":"\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1"},{"location":"design/how_to_calculate_latency/#_6","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u624b\u6cd5\u30fb\u9577\u6240\u30fb\u77ed\u6240\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5"},{"location":"design/how_to_calculate_latency/#_7","text":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6e2c\u5b9a\u306f\u3001\u540c\u3058\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30a2\u30c9\u30ec\u30b9\u3092\u6301\u3064callback_start\u3068rclcpp_publish\u306e\u5dee\u5206\u3092\u4f7f\u3063\u3066\u7b97\u51fa\u3057\u307e\u3059\u3002 callback_start\u3068rclcpp_publish\u306e\u7d10\u3065\u3051\u306f\u3001rclcpp_publish\u304b\u3089\u898b\u3066\u4e00\u756a\u8fd1\u3044callback_start\u3068\u7d10\u3065\u3051\u307e\u3059\u3002 idx callback_start (cb_A) [s] rclcpp_publish (cb_A) [s] callback_end (cb_A) [s] callback_arg (cb_A) 0 0 3 4 0x1000 1 2 5 6 0x1000 2 4 7 8 0x1000 ... ... ... ... ... idx callback_start (cb_B) [s] rclcpp_publish (cb_B) [s] callback_end (cb_B) [s] callback_arg (cb_B) 0 4 8 9 0x2000 1 8 12 13 0x2000 2 10 14 15 0x2000 \u4e0a\u8a18\u8868\u306e\u3088\u3046\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30afA\u30fbB\uff08cb_A\u30fbcb_B\uff09\u304c\u5b58\u5728\u3057\u3001A\u2192B\u3068\u51e6\u7406\u304c\u7d9a\u304f\u6642\u3001cb_A\u306ecallback_end\u3068cb_B\u306ecallback_start\u3092\u7d50\u3073\u4ed8\u3051\u3066\u8868\u3092\u4f5c\u308a\u307e\u3059\u3002 \u6700\u5f8c\u306ecallback\u3060\u3051\u306fpublish\u306e\u6642\u306e\u6642\u523b\u3092\u63a1\u7528\u3057\u3001\u4e0b\u8a18\u8868\u306e\u3088\u3046\u306b\u4e00\u3064\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u3057\u307e\u3059\u3002 idx callback_start (cb_A) [s] callback_end (cb_A) [s] callback_start (cb_B) [s] rclcpp_publish (cb_B) [s] 0 0 4 4 8 1 2 6 Lost Lost 2 4 8 8 12 ... ... ... ... ... \u4e0a\u8a18\u306e\u3088\u3046\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u3092\u3064\u306a\u304e\u3001 rclcpp_publish (cb_X) - callback_start (cb_Y) \u3067 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7 \u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u203b\u30ce\u30fc\u30c9\u5185\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\uff11\u3064\u306e\u5834\u5408\u3001X, Y\u306f\u540c\u3058\u3082\u306e\u3092\u6307\u3057\u307e\u3059\u3002 \u8907\u6570\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u3042\u308b\u5834\u5408\u306f\u3001X\u304c\u6700\u5f8c\u30fbY\u304c\u6700\u521d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u3057\u307e\u3059\u3002","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306e\u5229\u7528"},{"location":"design/tracepoint_definition/","text":"\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 # CARET\u306f\u30c8\u30d4\u30c3\u30af\u540d\u306a\u3069\u306e\u60c5\u5831\u3092\u5f97\u308b\u305f\u3081\u306e\u300c\u521d\u671f\u5316\u6642\u306e\u51e6\u7406\u306b\u5bfe\u3059\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u300d\u3068\u3001 \u6e2c\u5b9a\u3092\u3059\u308b\u305f\u3081\u306e\u300c\u30e9\u30f3\u30bf\u30a4\u30e0\u306e\u51e6\u7406\u306b\u5bfe\u3059\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u300d\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30da\u30fc\u30b8\u3067\u306f\u305d\u308c\u305e\u308c\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002 \u5404\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u306f\u3001\u305d\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u533a\u5225\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u306e\u60c5\u5831\u3082\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 Galactic\u5b9f\u88c5 Galactic\u4ee5\u964d\u306eROS\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3001ros2 tracing\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 service\u3084lifecycle\u306a\u3069\u3001\u5b9f\u88c5\u306f\u3055\u308c\u3066\u3044\u3066\u3082CARET\u3067\u306f\u4f7f\u308f\u308c\u3066\u3044\u306a\u3044\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3082\u6709\u308a\u307e\u3059\u3002 CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5 rclcpp\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 CARET\u30d5\u30c3\u30af\u5b9f\u88c5 LD_PRELOAD\u306b\u3088\u308b\u30d5\u30c3\u30af\u3067\u8ffd\u52a0\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 \u30d5\u30a9\u30fc\u30af\u3068\u30d5\u30c3\u30af\u306e\uff12\u3064\u306e\u65b9\u6cd5\u3067\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u308b\u7406\u7531 CARET\u306f\u57fa\u672c\u7684\u306b\u306f\u5b9f\u88c5\u3068\u5207\u308a\u96e2\u3059\u305f\u3081\u306b\u3001LD_PRELOAD\u3092\u5229\u7528\u3057\u305f\u30d5\u30c3\u30af\u306b\u3088\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u8ffd\u52a0\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001rclcpp\u306b\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306a\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3088\u308b\u5b9f\u88c5\u3092\u542b\u307f\u3001LD_PRELOAD\u3067\u306f\u30d5\u30c3\u30af\u3067\u304d\u306a\u3044\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 LD_PRELOAD\u306f\u5b9f\u884c\u6642\u306e\u52d5\u7684\u30ea\u30f3\u30af\u306b\u5bfe\u3057\u30d5\u30c3\u30af\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3042\u308b\u306e\u306b\u5bfe\u3057\u3001 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u51e6\u7406\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u30d0\u30a4\u30ca\u30ea\u5185\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u30d5\u30c3\u30af\u3067\u304d\u307e\u305b\u3093\u3002 \u3053\u306e\u3088\u3046\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u51e6\u7406\u306b\u5bfe\u3057\u3066\u306e\u307f\u3001rclcpp\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306a\u7406\u7531\u304b\u3089\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u751f\u3058\u3066\u3044\u307e\u3059\u3002 \u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u4e3b\u8981\u306a\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8 # \u521d\u671f\u5316\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8 # rcl_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * context_handle rcl_node_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * node_handle void * rmw_handle char * node_name char * node_namespace rcl_publisher_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * node_handle void * rmw_publisher_handle char * topic_name size_t queue_depth rcl_subscription_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription_handle void * node_handle void * rmw_subscription_handle char * topic_name size_t queue_depth rclcpp_subscription_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription_handle void * subscription rclcpp_subscription_callback_added # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription void * callback rcl_timer_init # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 - void * timer_handle - int64_t period rclcpp_timer_callback_added # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * timer_handle void * callback rclcpp_timer_link_node # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * timer_handle void * node_handle rclcpp_callback_register # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback char * function_symbol rmw_implementation # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 char * rmw_impl construct_executor # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr char * executor_type_name construct_static_executor # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr void * entities_collector_addr char * executor_type_name add_callback_group # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr void * callback_group_addr char * group_type_name add_callback_group_static_executor # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * entities_collector_addr void * callback_group_addr char * group_type_name callback_group_add_timer # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * timer_handle callback_group_add_subscription # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * subscription_handle callback_group_add_service # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * service_handle callback_group_add_client # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * client_handle \u30e9\u30f3\u30bf\u30a4\u30e0\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8 # callback_start # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback bool is_intra_process callback_end # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback message_construct # [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * original_message void * constructed_message rclcpp_intra_publish # [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message uint64_t message_timestamp dispatch_subscription_callback # [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message void * callback uint64_t source_timestamp uint64_t message_timestamp dispatch_intra_process_subscription_callback # [CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message void * callback uint64_t message_timestamp rcl_publish # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message rclcpp_publish # [Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message uint64_t message_timestamp dds_write # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message dds_bind_addr_to_stamp # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * addr uint64_t source_stamp dds_bind_addr_to_addr # [CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * addr_from void * addr_to \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7d10\u4ed8\u3051 # \u672c\u30da\u30fc\u30b8\u3067\u5217\u6319\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30ce\u30fc\u30c9ID\uff08 node_handle \uff09\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30afID\uff08 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30a2\u30c9\u30ec\u30b9 \uff09\u306a\u3069\u306e\u5024\u3092\u5143\u306b\u7d10\u4ed8\u3051\u3066\u5229\u7528\u3059\u308b\u3002 \u305d\u308c\u305e\u308c\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5bfe\u5fdc\u95a2\u4fc2\u3092\u30b0\u30e9\u30d5\u3067\u793a\u3059\u3002 \u30ce\u30fc\u30c9\u306e\u521d\u671f\u5316 # graph RL node_handle[[node_handle]] subscription_handle[[subscription_handle]] subscription[[subscription]] callback[[callback]] timer_handle[[timer_handle]] client_handle[[client_handle]] node_handle[[node_handle]] publisher_handle[[publisher_handle]] rcl_init[rcl_init<ul><li>context_handle</li></ul>] rcl_node_init[rcl_node_init<br /><ul><li>node_handle</li><li>node_name</li><li>node_namespace</li><li>rmw_handle</li></ul>] rcl_publisher_init[rcl_publisher_init<br /><ul><li>node_handle</li><li>publisher_handle</li><li>rmw_publisher_handle</li><li>topic_name</li><li>queue_depth</li></ul>] rcl_subscription_init[rcl_subscription_init<ul><li>subscription_handle</li><li>node_handle</li><li>rmw_subscription_handle</li><li>topic_name</li><li>queue_depth</li></ul>] rclcpp_subscription_init[rclcpp_subscription_init<ul><li>subscription_handle</li><li>subscription</li></ul>] rclcpp_subscription_callback_added[rclcpp_subscription_callback_added<ul><li>subscription</li><li>callback</li></ul>] rclcpp_timer_link_node[rclcpp_timer_link_node<ul><li>timer_handle</li><li>node_handle</li></ul>] rclcpp_callback_register[rclcpp_callback_register<ul><li>callback</li><li>function_symbol</li></ul>] rmw_implementation[rmw_implementation<ul><li>rmw_impl</li></ul>] rcl_timer_init[rcl_timer_init<ul><li>timer_handle</li><li>period</li></ul>] rcl_publisher_init <--> node_handle node_handle <--> rcl_node_init rcl_subscription_init <--> node_handle subscription_handle <--> rcl_subscription_init rclcpp_subscription_init <--> subscription_handle publisher_handle <--> rcl_publisher_init subscription <--> rclcpp_subscription_init rclcpp_subscription_callback_added <--> subscription callback <--> rclcpp_subscription_callback_added rcl_timer_init <--> timer_handle rclcpp_timer_callback_added <--> timer_handle callback <--> rclcpp_timer_callback_added timer_handle <--> rclcpp_timer_link_node rclcpp_timer_link_node <--> node_handle callback <--> rclcpp_callback_register rmw_implementation \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30a2\u30c9\u30ec\u30b9\u5024\u304c\u4e00\u610f\u306b\u6c7a\u307e\u308c\u3070\u3001 timer_callback_added \u306a\u3069\u4ed6\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5024\u3092\u7d10\u4ed8\u3044\u3066\u3044\u304f\u3053\u3068\u3067\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u307e\u3067\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u9006\u306b\u3001node_handle\u304c\u4e00\u610f\u306b\u6c7a\u307e\u308c\u3070\u3001\u305d\u306e\u30ce\u30fc\u30c9\u306b\u542b\u307e\u308c\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u7279\u5b9a\u3067\u304d\u308b\u3002 \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u521d\u671f\u5316 # graph RL subscription_handle[[subscription_handle]] executor_addr[[executor_addr]] entities_collector_addr[[entities_collector_addr]] timer_handle[[timer_handle]] client_handle[[client_handle]] service_handle[[service_handle]] callback_group_addr[[callback_group_addr]] construct_executor[construct_executor<ul><li>executor_addr</li><li>executor_type_name</li></ul>] construct_static_executor[construct_static_executor<ul><li>executor_addr</li><li>executor_type_name</li><li>entities_collector_addr</li></ul>] add_callback_group[add_callback_group<ul><li>executor_addr</li><li>callback_group_addr</li><li>group_type_name</li></ul>] add_callback_group_static_executor[add_callback_group_static_executor<ul><li>entities_collector_addr</li><li>callback_group_addr</li><li>group_type_name</li></ul>] callback_group_add_timer[callback_group_add_timer<ul><li>callback_group_addr</li><li>timer_handle</li></ul>] callback_group_add_subscription[callback_group_add_subscription<ul><li>callback_group_addr</li><li>subscription_handle</li></ul>] callback_group_add_service[callback_group_add_service<ul><li>callback_group_addr</li><li>service_handle</li></ul>] callback_group_add_client[callback_group_add_client<ul><li>callback_group_addr</li><li>client_handle</li></ul>] executor_addr <--> construct_executor entities_collector_addr <--> construct_static_executor add_callback_group <--> executor_addr callback_group_addr <--> add_callback_group add_callback_group_static_executor <--> entities_collector_addr callback_group_addr <--> add_callback_group_static_executor callback_group_add_timer <--> callback_group_addr timer_handle <--> callback_group_add_timer callback_group_add_subscription <--> callback_group_addr subscription_handle <--> callback_group_add_subscription callback_group_add_service <--> callback_group_addr service_handle <--> callback_group_add_service callback_group_add_client <--> callback_group_addr client_handle <--> callback_group_add_client \u30bf\u30a4\u30de\u30fc\u306a\u3069\u306e\u5404\u30cf\u30f3\u30c9\u30e9\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\u3055\u308c\u3001\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u306epublish\u307e\u3067 # graph LR source_timestamp[[source_timestamp]] message_dds[[message_addr]] message_intra[[message_addr]] message_inter[[message_addr]] publish((\"publish(message)\")) source_timestamp[[source_timestamp]] message_intra_sub[[message_addr]] rclcpp_intra_publish[rclcpp_intra_publish<ul><li>publisher_handle</li><li>message_addr</li><li>message_timestamp</li></ul>] message_construct_intra[message_construct<ul><li>original_message_addr</li><li>constructed_message_addr</li></ul>] message_construct_inter[message_construct<ul><li>original_message_addr</li><li>constructed_message_addr</li></ul>] rclcpp_publish[rclcpp_publish<ul><li>publisher_handle</li><li>message_addr</li><li>message_timestamp</li></ul>] rcl_publish[rcl_publish<ul><li>publisher_handle</li><li>message_addr</li></ul>] dds_write[dds_write<ul><li>message_addr</li></ul>] dds_bind_addr_to_addr[dds_bind_addr_to_addr<ul><li>addr_from</li><li>addr_to</li></ul>] dds_bind_addr_to_stamp[dds_bind_addr_to_stamp<ul><li>message_addr</li><li>source_timestamp</li></ul>] publish --> rclcpp_intra_publish publish --> rclcpp_publish subgraph message_copy_if_necessary rclcpp_intra_publish <--> message_intra rclcpp_publish <--> message_inter message_construct_intra -.-> message_intra message_intra -.-> message_construct_intra message_construct_inter -.-> message_inter message_inter -.-> message_construct_inter end message_inter <--> rcl_publish message_inter <--> dds_write dds_write <--> message_dds message_dds <--> dds_bind_addr_to_stamp dds_bind_addr_to_stamp <--> source_timestamp dds_bind_addr_to_addr -.-> message_dds message_dds -.-> dds_bind_addr_to_addr publish \u3092\u5b9f\u884c\u3057\u305f\u969b\u3001unique_ptr\u578b\u3067\u8907\u6570\u306esubscription\u304c\u3042\u308b\u5834\u5408\u306a\u3069\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u304c\u767a\u751f\u3059\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u304c\u767a\u751f\u3057\u305f\u969b\u306f message_construct \u3067\u30b3\u30d4\u30fc\u524d\u3068\u30b3\u30d4\u30fc\u5f8c\u306e\u5909\u6570\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002 rcl\u30ec\u30a4\u30e4\u30fc\u4ee5\u4e0b\u3067\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u5bfe\u5fdc\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3001DDS\u30ec\u30a4\u30e4\u30fc\u3067source_timestamp\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002 source_timestamp\u306f\u5143\u3005\u306fQoS\u306eDeadline\u306a\u3069\u306b\u4f7f\u308f\u308c\u308b\u5024\u3067\u3001\u5168\u3066\u306eDDS\u901a\u4fe1\u3092\u884c\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u81ea\u52d5\u7684\u306b\u4ed8\u4e0e\u3055\u308c\u308b\u5024\u3067\u3042\u308a\u3001subscription\u5074\u3067\u540c\u3058\u5024\u304c\u53d7\u4fe1\u3055\u308c\u308b\u3002 \u53d7\u4fe1\u5074\u3067\u306fsource_timestamp\u306e\u5024\u3092\u7d10\u4ed8\u3051\u308b\u305f\u3081\u306e\u60c5\u5831\u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u308b\u3002 message_addr\uff08\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\uff09/source_timestamp\uff08\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\uff09\u304b\u3089publish\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d7\u4fe1\u304b\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5b9f\u884c\u307e\u3067 # graph LR source_timestamp[[source_timestamp]] message_intra_sub[[message_addr]] message_intra[[message_addr]] callback[[callback]] source_timestamp[[source_timestamp]] source_timestamp_sub[source_timestamp] dispatch_subscription_callback[dispatch_subscription_callback<ul><li>message_addr</li><li>callback</li><li>source_timestamp</li><li>message_timestamp</li></ul>] dispatch_intra_process_subscription_callback[dispatch_intra_process_subscription_callback<ul><li>message_addr</li><li>callback</li><li>message_timestamp</li></ul>] callback_end_[callback_end<ul><li>callback</li></ul>] callback_start[callback_start<ul><li>callback</li><li>is_intra_process</li></ul>] source_timestamp --Inter Process Communication--> source_timestamp_sub message_intra --Intra Process Communication--> message_intra_sub message_intra_sub --> dispatch_intra_process_subscription_callback dispatch_intra_process_subscription_callback --> callback callback --> callback_start callback --> callback_end_ dispatch_subscription_callback --> callback source_timestamp_sub --> dispatch_subscription_callback \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u3067\u306fpublish\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u7d10\u3065\u3051\u3092\u884c\u3046\u3002 \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3067\u306fsource_timestamp\u3067\u7d10\u3065\u3051\u3092\u884c\u3046\u3002 callback_start\u304b\u3089message_addr/source_timestamp\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u307e\u305f\u3001publisher\u5074\u306e\u30b0\u30e9\u30d5\u3067\u793a\u3057\u305f\u901a\u308a\u3001message_addr/source_timestamp\u304b\u3089publish\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u3057\u305f\u304c\u3063\u3066\u3001publish\u304b\u3089callback_start\u307e\u3067\u306f\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u305f\u3060\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u3068publish\u306e\u7d10\u4ed8\u3051\u306f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002","title":"\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9"},{"location":"design/tracepoint_definition/#_1","text":"CARET\u306f\u30c8\u30d4\u30c3\u30af\u540d\u306a\u3069\u306e\u60c5\u5831\u3092\u5f97\u308b\u305f\u3081\u306e\u300c\u521d\u671f\u5316\u6642\u306e\u51e6\u7406\u306b\u5bfe\u3059\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u300d\u3068\u3001 \u6e2c\u5b9a\u3092\u3059\u308b\u305f\u3081\u306e\u300c\u30e9\u30f3\u30bf\u30a4\u30e0\u306e\u51e6\u7406\u306b\u5bfe\u3059\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u300d\u304c\u3042\u308a\u307e\u3059\u3002 \u672c\u30da\u30fc\u30b8\u3067\u306f\u305d\u308c\u305e\u308c\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002 \u5404\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u306f\u3001\u305d\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u533a\u5225\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u306e\u60c5\u5831\u3082\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 Galactic\u5b9f\u88c5 Galactic\u4ee5\u964d\u306eROS\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u3001ros2 tracing\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 service\u3084lifecycle\u306a\u3069\u3001\u5b9f\u88c5\u306f\u3055\u308c\u3066\u3044\u3066\u3082CARET\u3067\u306f\u4f7f\u308f\u308c\u3066\u3044\u306a\u3044\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3082\u6709\u308a\u307e\u3059\u3002 CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5 rclcpp\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3066\u8ffd\u52a0\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 CARET\u30d5\u30c3\u30af\u5b9f\u88c5 LD_PRELOAD\u306b\u3088\u308b\u30d5\u30c3\u30af\u3067\u8ffd\u52a0\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002 \u30d5\u30a9\u30fc\u30af\u3068\u30d5\u30c3\u30af\u306e\uff12\u3064\u306e\u65b9\u6cd5\u3067\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u308b\u7406\u7531 CARET\u306f\u57fa\u672c\u7684\u306b\u306f\u5b9f\u88c5\u3068\u5207\u308a\u96e2\u3059\u305f\u3081\u306b\u3001LD_PRELOAD\u3092\u5229\u7528\u3057\u305f\u30d5\u30c3\u30af\u306b\u3088\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u8ffd\u52a0\u3092\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001rclcpp\u306b\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u306a\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3088\u308b\u5b9f\u88c5\u3092\u542b\u307f\u3001LD_PRELOAD\u3067\u306f\u30d5\u30c3\u30af\u3067\u304d\u306a\u3044\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 LD_PRELOAD\u306f\u5b9f\u884c\u6642\u306e\u52d5\u7684\u30ea\u30f3\u30af\u306b\u5bfe\u3057\u30d5\u30c3\u30af\u3067\u304d\u308b\u6a5f\u80fd\u3067\u3042\u308b\u306e\u306b\u5bfe\u3057\u3001 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u51e6\u7406\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u30d0\u30a4\u30ca\u30ea\u5185\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u30d5\u30c3\u30af\u3067\u304d\u307e\u305b\u3093\u3002 \u3053\u306e\u3088\u3046\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9f\u88c5\u3055\u308c\u305f\u51e6\u7406\u306b\u5bfe\u3057\u3066\u306e\u307f\u3001rclcpp\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3066\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306a\u7406\u7531\u304b\u3089\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u751f\u3058\u3066\u3044\u307e\u3059\u3002","title":"\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9"},{"location":"design/tracepoint_definition/#_2","text":"","title":"\u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u4e3b\u8981\u306a\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8"},{"location":"design/tracepoint_definition/#_3","text":"","title":"\u521d\u671f\u5316\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8"},{"location":"design/tracepoint_definition/#rcl_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * context_handle","title":"rcl_init"},{"location":"design/tracepoint_definition/#rcl_node_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * node_handle void * rmw_handle char * node_name char * node_namespace","title":"rcl_node_init"},{"location":"design/tracepoint_definition/#rcl_publisher_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * node_handle void * rmw_publisher_handle char * topic_name size_t queue_depth","title":"rcl_publisher_init"},{"location":"design/tracepoint_definition/#rcl_subscription_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription_handle void * node_handle void * rmw_subscription_handle char * topic_name size_t queue_depth","title":"rcl_subscription_init"},{"location":"design/tracepoint_definition/#rclcpp_subscription_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription_handle void * subscription","title":"rclcpp_subscription_init"},{"location":"design/tracepoint_definition/#rclcpp_subscription_callback_added","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * subscription void * callback","title":"rclcpp_subscription_callback_added"},{"location":"design/tracepoint_definition/#rcl_timer_init","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 - void * timer_handle - int64_t period","title":"rcl_timer_init"},{"location":"design/tracepoint_definition/#rclcpp_timer_callback_added","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * timer_handle void * callback","title":"rclcpp_timer_callback_added"},{"location":"design/tracepoint_definition/#rclcpp_timer_link_node","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * timer_handle void * node_handle","title":"rclcpp_timer_link_node"},{"location":"design/tracepoint_definition/#rclcpp_callback_register","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback char * function_symbol","title":"rclcpp_callback_register"},{"location":"design/tracepoint_definition/#rmw_implementation","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 char * rmw_impl","title":"rmw_implementation"},{"location":"design/tracepoint_definition/#construct_executor","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr char * executor_type_name","title":"construct_executor"},{"location":"design/tracepoint_definition/#construct_static_executor","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr void * entities_collector_addr char * executor_type_name","title":"construct_static_executor"},{"location":"design/tracepoint_definition/#add_callback_group","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * executor_addr void * callback_group_addr char * group_type_name","title":"add_callback_group"},{"location":"design/tracepoint_definition/#add_callback_group_static_executor","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * entities_collector_addr void * callback_group_addr char * group_type_name","title":"add_callback_group_static_executor"},{"location":"design/tracepoint_definition/#callback_group_add_timer","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * timer_handle","title":"callback_group_add_timer"},{"location":"design/tracepoint_definition/#callback_group_add_subscription","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * subscription_handle","title":"callback_group_add_subscription"},{"location":"design/tracepoint_definition/#callback_group_add_service","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * service_handle","title":"callback_group_add_service"},{"location":"design/tracepoint_definition/#callback_group_add_client","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback_group_addr void * client_handle","title":"callback_group_add_client"},{"location":"design/tracepoint_definition/#_4","text":"","title":"\u30e9\u30f3\u30bf\u30a4\u30e0\u6642\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8"},{"location":"design/tracepoint_definition/#callback_start","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback bool is_intra_process","title":"callback_start"},{"location":"design/tracepoint_definition/#callback_end","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * callback","title":"callback_end"},{"location":"design/tracepoint_definition/#message_construct","text":"[CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * original_message void * constructed_message","title":"message_construct"},{"location":"design/tracepoint_definition/#rclcpp_intra_publish","text":"[CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message uint64_t message_timestamp","title":"rclcpp_intra_publish"},{"location":"design/tracepoint_definition/#dispatch_subscription_callback","text":"[CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message void * callback uint64_t source_timestamp uint64_t message_timestamp","title":"dispatch_subscription_callback"},{"location":"design/tracepoint_definition/#dispatch_intra_process_subscription_callback","text":"[CARET\u30d5\u30a9\u30fc\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message void * callback uint64_t message_timestamp","title":"dispatch_intra_process_subscription_callback"},{"location":"design/tracepoint_definition/#rcl_publish","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message","title":"rcl_publish"},{"location":"design/tracepoint_definition/#rclcpp_publish","text":"[Galactic\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * publisher_handle void * message uint64_t message_timestamp","title":"rclcpp_publish"},{"location":"design/tracepoint_definition/#dds_write","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * message","title":"dds_write"},{"location":"design/tracepoint_definition/#dds_bind_addr_to_stamp","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * addr uint64_t source_stamp","title":"dds_bind_addr_to_stamp"},{"location":"design/tracepoint_definition/#dds_bind_addr_to_addr","text":"[CARET\u30d5\u30c3\u30af\u5b9f\u88c5] \u4ed8\u52a0\u60c5\u5831 void * addr_from void * addr_to","title":"dds_bind_addr_to_addr"},{"location":"design/tracepoint_definition/#_5","text":"\u672c\u30da\u30fc\u30b8\u3067\u5217\u6319\u3057\u3066\u3044\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30ce\u30fc\u30c9ID\uff08 node_handle \uff09\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30afID\uff08 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30a2\u30c9\u30ec\u30b9 \uff09\u306a\u3069\u306e\u5024\u3092\u5143\u306b\u7d10\u4ed8\u3051\u3066\u5229\u7528\u3059\u308b\u3002 \u305d\u308c\u305e\u308c\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5bfe\u5fdc\u95a2\u4fc2\u3092\u30b0\u30e9\u30d5\u3067\u793a\u3059\u3002","title":"\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7d10\u4ed8\u3051"},{"location":"design/tracepoint_definition/#_6","text":"graph RL node_handle[[node_handle]] subscription_handle[[subscription_handle]] subscription[[subscription]] callback[[callback]] timer_handle[[timer_handle]] client_handle[[client_handle]] node_handle[[node_handle]] publisher_handle[[publisher_handle]] rcl_init[rcl_init<ul><li>context_handle</li></ul>] rcl_node_init[rcl_node_init<br /><ul><li>node_handle</li><li>node_name</li><li>node_namespace</li><li>rmw_handle</li></ul>] rcl_publisher_init[rcl_publisher_init<br /><ul><li>node_handle</li><li>publisher_handle</li><li>rmw_publisher_handle</li><li>topic_name</li><li>queue_depth</li></ul>] rcl_subscription_init[rcl_subscription_init<ul><li>subscription_handle</li><li>node_handle</li><li>rmw_subscription_handle</li><li>topic_name</li><li>queue_depth</li></ul>] rclcpp_subscription_init[rclcpp_subscription_init<ul><li>subscription_handle</li><li>subscription</li></ul>] rclcpp_subscription_callback_added[rclcpp_subscription_callback_added<ul><li>subscription</li><li>callback</li></ul>] rclcpp_timer_link_node[rclcpp_timer_link_node<ul><li>timer_handle</li><li>node_handle</li></ul>] rclcpp_callback_register[rclcpp_callback_register<ul><li>callback</li><li>function_symbol</li></ul>] rmw_implementation[rmw_implementation<ul><li>rmw_impl</li></ul>] rcl_timer_init[rcl_timer_init<ul><li>timer_handle</li><li>period</li></ul>] rcl_publisher_init <--> node_handle node_handle <--> rcl_node_init rcl_subscription_init <--> node_handle subscription_handle <--> rcl_subscription_init rclcpp_subscription_init <--> subscription_handle publisher_handle <--> rcl_publisher_init subscription <--> rclcpp_subscription_init rclcpp_subscription_callback_added <--> subscription callback <--> rclcpp_subscription_callback_added rcl_timer_init <--> timer_handle rclcpp_timer_callback_added <--> timer_handle callback <--> rclcpp_timer_callback_added timer_handle <--> rclcpp_timer_link_node rclcpp_timer_link_node <--> node_handle callback <--> rclcpp_callback_register rmw_implementation \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30a2\u30c9\u30ec\u30b9\u5024\u304c\u4e00\u610f\u306b\u6c7a\u307e\u308c\u3070\u3001 timer_callback_added \u306a\u3069\u4ed6\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5024\u3092\u7d10\u4ed8\u3044\u3066\u3044\u304f\u3053\u3068\u3067\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u307e\u3067\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u9006\u306b\u3001node_handle\u304c\u4e00\u610f\u306b\u6c7a\u307e\u308c\u3070\u3001\u305d\u306e\u30ce\u30fc\u30c9\u306b\u542b\u307e\u308c\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3082\u7279\u5b9a\u3067\u304d\u308b\u3002","title":"\u30ce\u30fc\u30c9\u306e\u521d\u671f\u5316"},{"location":"design/tracepoint_definition/#_7","text":"graph RL subscription_handle[[subscription_handle]] executor_addr[[executor_addr]] entities_collector_addr[[entities_collector_addr]] timer_handle[[timer_handle]] client_handle[[client_handle]] service_handle[[service_handle]] callback_group_addr[[callback_group_addr]] construct_executor[construct_executor<ul><li>executor_addr</li><li>executor_type_name</li></ul>] construct_static_executor[construct_static_executor<ul><li>executor_addr</li><li>executor_type_name</li><li>entities_collector_addr</li></ul>] add_callback_group[add_callback_group<ul><li>executor_addr</li><li>callback_group_addr</li><li>group_type_name</li></ul>] add_callback_group_static_executor[add_callback_group_static_executor<ul><li>entities_collector_addr</li><li>callback_group_addr</li><li>group_type_name</li></ul>] callback_group_add_timer[callback_group_add_timer<ul><li>callback_group_addr</li><li>timer_handle</li></ul>] callback_group_add_subscription[callback_group_add_subscription<ul><li>callback_group_addr</li><li>subscription_handle</li></ul>] callback_group_add_service[callback_group_add_service<ul><li>callback_group_addr</li><li>service_handle</li></ul>] callback_group_add_client[callback_group_add_client<ul><li>callback_group_addr</li><li>client_handle</li></ul>] executor_addr <--> construct_executor entities_collector_addr <--> construct_static_executor add_callback_group <--> executor_addr callback_group_addr <--> add_callback_group add_callback_group_static_executor <--> entities_collector_addr callback_group_addr <--> add_callback_group_static_executor callback_group_add_timer <--> callback_group_addr timer_handle <--> callback_group_add_timer callback_group_add_subscription <--> callback_group_addr subscription_handle <--> callback_group_add_subscription callback_group_add_service <--> callback_group_addr service_handle <--> callback_group_add_service callback_group_add_client <--> callback_group_addr client_handle <--> callback_group_add_client \u30bf\u30a4\u30de\u30fc\u306a\u3069\u306e\u5404\u30cf\u30f3\u30c9\u30e9\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\u3055\u308c\u3001\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002","title":"\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u521d\u671f\u5316"},{"location":"design/tracepoint_definition/#publish","text":"graph LR source_timestamp[[source_timestamp]] message_dds[[message_addr]] message_intra[[message_addr]] message_inter[[message_addr]] publish((\"publish(message)\")) source_timestamp[[source_timestamp]] message_intra_sub[[message_addr]] rclcpp_intra_publish[rclcpp_intra_publish<ul><li>publisher_handle</li><li>message_addr</li><li>message_timestamp</li></ul>] message_construct_intra[message_construct<ul><li>original_message_addr</li><li>constructed_message_addr</li></ul>] message_construct_inter[message_construct<ul><li>original_message_addr</li><li>constructed_message_addr</li></ul>] rclcpp_publish[rclcpp_publish<ul><li>publisher_handle</li><li>message_addr</li><li>message_timestamp</li></ul>] rcl_publish[rcl_publish<ul><li>publisher_handle</li><li>message_addr</li></ul>] dds_write[dds_write<ul><li>message_addr</li></ul>] dds_bind_addr_to_addr[dds_bind_addr_to_addr<ul><li>addr_from</li><li>addr_to</li></ul>] dds_bind_addr_to_stamp[dds_bind_addr_to_stamp<ul><li>message_addr</li><li>source_timestamp</li></ul>] publish --> rclcpp_intra_publish publish --> rclcpp_publish subgraph message_copy_if_necessary rclcpp_intra_publish <--> message_intra rclcpp_publish <--> message_inter message_construct_intra -.-> message_intra message_intra -.-> message_construct_intra message_construct_inter -.-> message_inter message_inter -.-> message_construct_inter end message_inter <--> rcl_publish message_inter <--> dds_write dds_write <--> message_dds message_dds <--> dds_bind_addr_to_stamp dds_bind_addr_to_stamp <--> source_timestamp dds_bind_addr_to_addr -.-> message_dds message_dds -.-> dds_bind_addr_to_addr publish \u3092\u5b9f\u884c\u3057\u305f\u969b\u3001unique_ptr\u578b\u3067\u8907\u6570\u306esubscription\u304c\u3042\u308b\u5834\u5408\u306a\u3069\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u304c\u767a\u751f\u3059\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u304c\u767a\u751f\u3057\u305f\u969b\u306f message_construct \u3067\u30b3\u30d4\u30fc\u524d\u3068\u30b3\u30d4\u30fc\u5f8c\u306e\u5909\u6570\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002 rcl\u30ec\u30a4\u30e4\u30fc\u4ee5\u4e0b\u3067\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u5bfe\u5fdc\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3001DDS\u30ec\u30a4\u30e4\u30fc\u3067source_timestamp\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002 source_timestamp\u306f\u5143\u3005\u306fQoS\u306eDeadline\u306a\u3069\u306b\u4f7f\u308f\u308c\u308b\u5024\u3067\u3001\u5168\u3066\u306eDDS\u901a\u4fe1\u3092\u884c\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u81ea\u52d5\u7684\u306b\u4ed8\u4e0e\u3055\u308c\u308b\u5024\u3067\u3042\u308a\u3001subscription\u5074\u3067\u540c\u3058\u5024\u304c\u53d7\u4fe1\u3055\u308c\u308b\u3002 \u53d7\u4fe1\u5074\u3067\u306fsource_timestamp\u306e\u5024\u3092\u7d10\u4ed8\u3051\u308b\u305f\u3081\u306e\u60c5\u5831\u3068\u3057\u3066\u5229\u7528\u3057\u3066\u3044\u308b\u3002 message_addr\uff08\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\uff09/source_timestamp\uff08\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\uff09\u304b\u3089publish\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u306epublish\u307e\u3067"},{"location":"design/tracepoint_definition/#_8","text":"graph LR source_timestamp[[source_timestamp]] message_intra_sub[[message_addr]] message_intra[[message_addr]] callback[[callback]] source_timestamp[[source_timestamp]] source_timestamp_sub[source_timestamp] dispatch_subscription_callback[dispatch_subscription_callback<ul><li>message_addr</li><li>callback</li><li>source_timestamp</li><li>message_timestamp</li></ul>] dispatch_intra_process_subscription_callback[dispatch_intra_process_subscription_callback<ul><li>message_addr</li><li>callback</li><li>message_timestamp</li></ul>] callback_end_[callback_end<ul><li>callback</li></ul>] callback_start[callback_start<ul><li>callback</li><li>is_intra_process</li></ul>] source_timestamp --Inter Process Communication--> source_timestamp_sub message_intra --Intra Process Communication--> message_intra_sub message_intra_sub --> dispatch_intra_process_subscription_callback dispatch_intra_process_subscription_callback --> callback callback --> callback_start callback --> callback_end_ dispatch_subscription_callback --> callback source_timestamp_sub --> dispatch_subscription_callback \u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u3067\u306fpublish\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u7d10\u3065\u3051\u3092\u884c\u3046\u3002 \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3067\u306fsource_timestamp\u3067\u7d10\u3065\u3051\u3092\u884c\u3046\u3002 callback_start\u304b\u3089message_addr/source_timestamp\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u307e\u305f\u3001publisher\u5074\u306e\u30b0\u30e9\u30d5\u3067\u793a\u3057\u305f\u901a\u308a\u3001message_addr/source_timestamp\u304b\u3089publish\u307e\u3067\u304c\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u3002 \u3057\u305f\u304c\u3063\u3066\u3001publish\u304b\u3089callback_start\u307e\u3067\u306f\u4e00\u610f\u306b\u7d10\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u305f\u3060\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u3068publish\u306e\u7d10\u4ed8\u3051\u306f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d7\u4fe1\u304b\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5b9f\u884c\u307e\u3067"},{"location":"supplements/about_callback_graph/","text":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306b\u3064\u3044\u3066 # ROS \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4e00\u822c\u7684\u306b\u30ce\u30fc\u30c9\u306e\u30b0\u30e9\u30d5\u3067\u8a18\u8ff0\u3055\u308c\u3001\u305d\u308c\u306b\u4f34\u3044\u30ce\u30fc\u30c9\u5358\u4f4d\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\uff08\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\uff09\u3092\u628a\u63e1\u3057\u305f\u3044\u30b1\u30fc\u30b9\u304c\u751f\u3058\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u4e00\u3064\u306e\u30ce\u30fc\u30c9\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u8907\u6570\u5b58\u5728\u3059\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u8003\u3048\u305f\u969b\u306b\u4e0d\u90fd\u5408\u304c\u751f\u3058\u307e\u3059\u3002 \u4e0a\u56f3\u306f\u3001 /lidar \u3068 /camera \u30c8\u30d4\u30c3\u30af\u3092\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3057\u3001\u305d\u306e\uff12\u3064\u306e\u60c5\u5831\u3092\u7d71\u5408\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092 /fusion \u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3059\u308b TargetNode \u3092\u4f8b\u3068\u3057\u3066\u793a\u3057\u3066\u3044\u307e\u3059\u3002 /lidar \u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u306f\u3001\u30e1\u30f3\u30d0\u5909\u6570\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u683c\u7d0d\u3057\u3001/camera \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5185\u3067\u7d71\u5408\u3055\u305b\u3066\u3044\u307e\u3059\u3002 \u203b CARET \u3067\u306f \u3001\u5909\u6570\u3092\u7d4c\u7531\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3092 Variable Passing \u3068\u547c\u3073\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u8a18\u8ff0\u3055\u305b\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u6642\u3001 TargetNode \u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u6b21\u306e\uff12\u3064\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af C \u2192 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af D\uff08/lidar \u30c8\u30d4\u30c3\u30af \u2192 /fusion \u30c8\u30d4\u30c3\u30af\u306e\u30d1\u30b9\uff09 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af D\uff08/camera \u30c8\u30d4\u30c3\u30af \u2192 /fusion \u30c8\u30d4\u30c3\u30af\u306e\u30d1\u30b9\uff09 \u3053\u306e\u3088\u3046\u306a\u4e00\u3064\u306e\u30ce\u30fc\u30c9\u306b\u8907\u6570\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u5b58\u5728\u30b1\u30fc\u30b9\u3067\u306f\u3001\u6307\u5b9a\u3059\u308b\u30d1\u30b9\u6bce\u306b\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u69cb\u6210\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 CARET \u3067\u306f ROS \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3068\u3057\u3066\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30fb\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u6574\u7406 A node is an executable that uses ROS to communicate with other nodes. ( http://wiki.ros.org/ROS/Tutorials/UnderstandingNodes \u3088\u308a\u5f15\u7528) \u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u30ce\u30fc\u30c9\u306f\u5b9f\u884c\u53ef\u80fd\u306a\u5358\u4f4d\u3067\u3059\u3002 \u4e00\u65b9\u3067\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u308b\u30bf\u30b9\u30af\u306e\u5358\u4f4d\u3068\u3057\u3066\u6349\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u7279\u306b ROS 2 \u306e\u5834\u5408\u3001SingleThreadedExecutor \u3092\u59cb\u3081\u3068\u3059\u308b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u8907\u6570\u5b58\u5728\u3057\u3001 \u30b9\u30ec\u30c3\u30c9\u6570\u306e\u9055\u3044\u3060\u3051\u3067\u306a\u304f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u4e0a\u3067\u306f\u3001\u4f55\u306e\u30ce\u30fc\u30c9\u304c\u4f55\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u305f\u304b\u3082\u91cd\u8981\u306a\u89b3\u70b9\u3067\u3059\u3002","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306e\u8aac\u660e"},{"location":"supplements/about_callback_graph/#_1","text":"ROS \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4e00\u822c\u7684\u306b\u30ce\u30fc\u30c9\u306e\u30b0\u30e9\u30d5\u3067\u8a18\u8ff0\u3055\u308c\u3001\u305d\u308c\u306b\u4f34\u3044\u30ce\u30fc\u30c9\u5358\u4f4d\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\uff08\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\uff09\u3092\u628a\u63e1\u3057\u305f\u3044\u30b1\u30fc\u30b9\u304c\u751f\u3058\u307e\u3059\u3002 \u3057\u304b\u3057\u306a\u304c\u3089\u3001\u4e00\u3064\u306e\u30ce\u30fc\u30c9\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u8907\u6570\u5b58\u5728\u3059\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u8003\u3048\u305f\u969b\u306b\u4e0d\u90fd\u5408\u304c\u751f\u3058\u307e\u3059\u3002 \u4e0a\u56f3\u306f\u3001 /lidar \u3068 /camera \u30c8\u30d4\u30c3\u30af\u3092\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3057\u3001\u305d\u306e\uff12\u3064\u306e\u60c5\u5831\u3092\u7d71\u5408\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092 /fusion \u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3059\u308b TargetNode \u3092\u4f8b\u3068\u3057\u3066\u793a\u3057\u3066\u3044\u307e\u3059\u3002 /lidar \u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u306f\u3001\u30e1\u30f3\u30d0\u5909\u6570\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u683c\u7d0d\u3057\u3001/camera \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5185\u3067\u7d71\u5408\u3055\u305b\u3066\u3044\u307e\u3059\u3002 \u203b CARET \u3067\u306f \u3001\u5909\u6570\u3092\u7d4c\u7531\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3092 Variable Passing \u3068\u547c\u3073\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u8a18\u8ff0\u3055\u305b\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u6642\u3001 TargetNode \u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u6b21\u306e\uff12\u3064\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af C \u2192 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af D\uff08/lidar \u30c8\u30d4\u30c3\u30af \u2192 /fusion \u30c8\u30d4\u30c3\u30af\u306e\u30d1\u30b9\uff09 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af D\uff08/camera \u30c8\u30d4\u30c3\u30af \u2192 /fusion \u30c8\u30d4\u30c3\u30af\u306e\u30d1\u30b9\uff09 \u3053\u306e\u3088\u3046\u306a\u4e00\u3064\u306e\u30ce\u30fc\u30c9\u306b\u8907\u6570\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u5b58\u5728\u30b1\u30fc\u30b9\u3067\u306f\u3001\u6307\u5b9a\u3059\u308b\u30d1\u30b9\u6bce\u306b\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u69cb\u6210\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001 CARET \u3067\u306f ROS \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3068\u3057\u3066\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30fb\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u6574\u7406 A node is an executable that uses ROS to communicate with other nodes. ( http://wiki.ros.org/ROS/Tutorials/UnderstandingNodes \u3088\u308a\u5f15\u7528) \u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u30ce\u30fc\u30c9\u306f\u5b9f\u884c\u53ef\u80fd\u306a\u5358\u4f4d\u3067\u3059\u3002 \u4e00\u65b9\u3067\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u308b\u30bf\u30b9\u30af\u306e\u5358\u4f4d\u3068\u3057\u3066\u6349\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u7279\u306b ROS 2 \u306e\u5834\u5408\u3001SingleThreadedExecutor \u3092\u59cb\u3081\u3068\u3059\u308b\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u304c\u8907\u6570\u5b58\u5728\u3057\u3001 \u30b9\u30ec\u30c3\u30c9\u6570\u306e\u9055\u3044\u3060\u3051\u3067\u306a\u304f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u9806\u5e8f\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u4e0a\u3067\u306f\u3001\u4f55\u306e\u30ce\u30fc\u30c9\u304c\u4f55\u306e\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u305f\u304b\u3082\u91cd\u8981\u306a\u89b3\u70b9\u3067\u3059\u3002","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306b\u3064\u3044\u3066"},{"location":"supplements/about_treat_drop_as_delay/","text":"treat_drop_as_delay\u30d5\u30e9\u30b0\u306b\u3064\u3044\u3066 # treat_drop_as_delay=False \u3068\u3057\u305f\u5834\u5408\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u30ed\u30b9\u30c8\uff08\u4e0a\u66f8\u304d\uff09\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7b87\u6240\u3067\u9014\u5207\u308c\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u7b87\u6240\u3092\u9045\u5ef6\u3068\u3057\u3066\u7b97\u51fa\u3067\u304d\u308b\u3088\u3046\u306b\u7d10\u4ed8\u3051\u305f\u30d5\u30ed\u30fc\u3092\u51fa\u529b\u3057\u307e\u3059\u3002","title":"treat_drop_as_delay\u30d5\u30e9\u30b0\u306e\u8aac\u660e"},{"location":"supplements/about_treat_drop_as_delay/#treat_drop_as_delay","text":"treat_drop_as_delay=False \u3068\u3057\u305f\u5834\u5408\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u30ed\u30b9\u30c8\uff08\u4e0a\u66f8\u304d\uff09\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u7b87\u6240\u3067\u9014\u5207\u308c\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u7b87\u6240\u3092\u9045\u5ef6\u3068\u3057\u3066\u7b97\u51fa\u3067\u304d\u308b\u3088\u3046\u306b\u7d10\u4ed8\u3051\u305f\u30d5\u30ed\u30fc\u3092\u51fa\u529b\u3057\u307e\u3059\u3002","title":"treat_drop_as_delay\u30d5\u30e9\u30b0\u306b\u3064\u3044\u3066"},{"location":"supplements/architecture_format/","text":"End-to-End\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6e2c\u5b9a\u65b9\u6cd5 # \u4ee5\u4e0b\u306b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3057\u307e\u3059\u3002 \u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u306e\u4e0a\u3001\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3067\u3059\u3002 \u306e\u4ed8\u3044\u3066\u3044\u306a\u3044\u9805\u76ee\u306f\u96db\u5f62\u3068\u3057\u3066\u81ea\u52d5\u7684\u306b\u8a18\u8f09\u3055\u308c\u307e\u3059 named_paths:\u3010\u30d1\u30b9\u60c5\u5831\u3011 - path_name : target_path\u3010\u30d1\u30b9\u306e\u540d\u524d\u3011 node_chain : - node_name : /ping_node \u3010\u30ce\u30fc\u30c9\u540d\u3011 publish_topic_name : /chatter \u3010\u30ce\u30fc\u30c9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 subscribe_topic_name : UNDEFINED\u3010\u30ce\u30fc\u30c9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 - node_name : /pong_node publish_topic_name : UNDEFINED subscribe_topic_name : /chatter executors:\u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u60c5\u5831\u3011 - executor_type : single_threaded_executor\u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u7a2e\u5225\u3011 executor_name : \u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u540d\u3011 callback_group_names : - /ping_node/callback_group_0 \u3010\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u540d\u3011 - /pong_node/callback_group_0 nodes:\u3010\u30ce\u30fc\u30c9\u60c5\u5831\u3011 - node_name : /ping_node\u3010\u30ce\u30fc\u30c9\u540d\u3011 callback_groups:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u60c5\u5831\u3011 - callback_group_type:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u7a2e\u5225\u3011 callback_group_name : /ping_node/callback_group_0 \u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u540d\u3011 callback_names : - /ping_node/callback_0 \u3010\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 callbacks:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u60c5\u5831\u3011 - callback_name : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 type : subscription_callback\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u7a2e\u5225\u3011 topic_name : /topic3\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 symbol : Node::{lambda()}\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306e\u30b7\u30f3\u30dc\u30eb\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 type : timer_callback\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u7a2e\u985e\u3011 period_ns : 100000000\u3010\u30bf\u30a4\u30de\u30fc\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5468\u671f\u3011 symbol : Node::{lambda()}\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306e\u30b7\u30f3\u30dc\u30eb\u540d\u3011 variable_passings:\u3010\u5909\u6570\u3092\u4ecb\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3011 - callback_name_write : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 callback_name_read : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 publishes:\u3010\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u306e\u60c5\u5831\u3011 - topic_name : /ping\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 subscribes:\u3010\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u306e\u60c5\u5831\u3011 - topic_name : /pong\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 message_contexts:\u3010\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3011 - context_type : use_latest_message\u3010\u7b97\u51fa\u65b9\u6cd5\u306e\u7a2e\u5225*\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u3078\u306e\u5165\u529b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u304b\u3089\u306e\u51fa\u529b\u30c8\u30d4\u30c3\u30af\u540d\u3011","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"supplements/architecture_format/#end-to-end","text":"\u4ee5\u4e0b\u306b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3057\u307e\u3059\u3002 \u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u306e\u4e0a\u3001\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3067\u3059\u3002 \u306e\u4ed8\u3044\u3066\u3044\u306a\u3044\u9805\u76ee\u306f\u96db\u5f62\u3068\u3057\u3066\u81ea\u52d5\u7684\u306b\u8a18\u8f09\u3055\u308c\u307e\u3059 named_paths:\u3010\u30d1\u30b9\u60c5\u5831\u3011 - path_name : target_path\u3010\u30d1\u30b9\u306e\u540d\u524d\u3011 node_chain : - node_name : /ping_node \u3010\u30ce\u30fc\u30c9\u540d\u3011 publish_topic_name : /chatter \u3010\u30ce\u30fc\u30c9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 subscribe_topic_name : UNDEFINED\u3010\u30ce\u30fc\u30c9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 - node_name : /pong_node publish_topic_name : UNDEFINED subscribe_topic_name : /chatter executors:\u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u60c5\u5831\u3011 - executor_type : single_threaded_executor\u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u7a2e\u5225\u3011 executor_name : \u3010\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u540d\u3011 callback_group_names : - /ping_node/callback_group_0 \u3010\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u540d\u3011 - /pong_node/callback_group_0 nodes:\u3010\u30ce\u30fc\u30c9\u60c5\u5831\u3011 - node_name : /ping_node\u3010\u30ce\u30fc\u30c9\u540d\u3011 callback_groups:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u60c5\u5831\u3011 - callback_group_type:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u306e\u7a2e\u5225\u3011 callback_group_name : /ping_node/callback_group_0 \u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30eb\u30fc\u30d7\u540d\u3011 callback_names : - /ping_node/callback_0 \u3010\u8ffd\u52a0\u3055\u308c\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 callbacks:\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u60c5\u5831\u3011 - callback_name : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 type : subscription_callback\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u7a2e\u5225\u3011 topic_name : /topic3\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 symbol : Node::{lambda()}\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306e\u30b7\u30f3\u30dc\u30eb\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 type : timer_callback\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u7a2e\u985e\u3011 period_ns : 100000000\u3010\u30bf\u30a4\u30de\u30fc\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5468\u671f\u3011 symbol : Node::{lambda()}\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306e\u30b7\u30f3\u30dc\u30eb\u540d\u3011 variable_passings:\u3010\u5909\u6570\u3092\u4ecb\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3011 - callback_name_write : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 callback_name_read : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 publishes:\u3010\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u306e\u60c5\u5831\u3011 - topic_name : /ping\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 subscribes:\u3010\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u306e\u60c5\u5831\u3011 - topic_name : /pong\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 message_contexts:\u3010\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3011 - context_type : use_latest_message\u3010\u7b97\u51fa\u65b9\u6cd5\u306e\u7a2e\u5225*\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u3078\u306e\u5165\u529b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u304b\u3089\u306e\u51fa\u529b\u30c8\u30d4\u30c3\u30af\u540d\u3011","title":"End-to-End\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6e2c\u5b9a\u65b9\u6cd5"},{"location":"supplements/communication_latency_definition/","text":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # CARET\u3067\u7b97\u51fa\u3055\u308c\u308b\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066\u8a73\u7d30\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # \u901a\u4fe1\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # CARET\u304c\u7b97\u51fa\u3057\u3066\u3044\u308b\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 Pub-Sub \u30ec\u30a4\u30c6\u30f3\u30b7 = Subscription\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u958b\u59cb\u6642\u523b - Publisher::publish()\u5b9f\u884c\u958b\u59cb\u6642\u523b \u3053\u306e\u5024\u306f\u3001ros2 topic delay \u3084\u3001topic statistics \u3067\u6e2c\u5b9a\u3055\u308c\u308b\u5024\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7 = \u73fe\u5728\u6642\u523b - msg.header.stamp \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\u306e\u8ad6\u6587\u3082\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Response-Time Analysis of ROS 2 Processing Chains Under Reservation-Based Scheduling","title":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/communication_latency_definition/#_1","text":"CARET\u3067\u7b97\u51fa\u3055\u308c\u308b\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066\u8a73\u7d30\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/communication_latency_definition/#_2","text":"","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/communication_latency_definition/#_3","text":"CARET\u304c\u7b97\u51fa\u3057\u3066\u3044\u308b\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 Pub-Sub \u30ec\u30a4\u30c6\u30f3\u30b7 = Subscription\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u958b\u59cb\u6642\u523b - Publisher::publish()\u5b9f\u884c\u958b\u59cb\u6642\u523b \u3053\u306e\u5024\u306f\u3001ros2 topic delay \u3084\u3001topic statistics \u3067\u6e2c\u5b9a\u3055\u308c\u308b\u5024\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002 \u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7 = \u73fe\u5728\u6642\u523b - msg.header.stamp \u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\u306e\u8ad6\u6587\u3082\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Response-Time Analysis of ROS 2 Processing Chains Under Reservation-Based Scheduling","title":"\u901a\u4fe1\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/gallery/","text":"\u30ae\u30e3\u30e9\u30ea\u30fc # CARET\u3067\u53ef\u8996\u5316\u3067\u304d\u308b\u56f3\u306e\u4f8b\u3092\u4e0a\u3052\u307e\u3059\u3002 jupyter\u4e0a\u3067\u306e\u53ef\u8996\u5316\u3092\u60f3\u5b9a\u3057\u3066\u3057\u307e\u3059\u3002 notebook\u4e0a\u3067bokeh\u306e\u30b0\u30e9\u30d5\u3082\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u4e8b\u524d\u306b\u5b9f\u884c\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 from bokeh.plotting import output_notebook, figure, show output_notebook() \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc # \u5404\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u3069\u306e\u6642\u70b9\u3067\u4f55\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u305f\u304b\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 from caret_analyze.plot import message_flow path = app . get_path ( 'target_path' ) message_flow ( path , granularity = 'node' , treat_drop_as_delay = False , lstrip_s = 1 , rstrip_s = 1 ) \u7e26\u8ef8\u306f\u4e0a\u304b\u3089\u4e0b\u306b\u5411\u304b\u3063\u3066\u3001\u30d1\u30b9\u306e\u59cb\u3081\u304b\u3089\u7d42\u308f\u308a\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u5404\u7dda\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u9818\u57df\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 treat_drop_as_delay=False \u3068\u3059\u308b\u3068\u3001\u30ce\u30fc\u30c9\u5185\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u3067\u6700\u65b0\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u307f\u3092\u4f7f\u3046\u3068\u3044\u3046\u4eee\u5b9a\u3057\u3001\u7dda\u3092\u9014\u4e2d\u3067\u9014\u5207\u308c\u3055\u305b\u3066\u8868\u793a\u3057\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3059\u308b\u3068\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30ed\u30b9\u30c8\u3092\u9045\u5ef6\u3068\u3057\u3066\u63db\u7b97\u3057\u307e\u3059\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u56f3\u3067\u306f\u3001bokeh \u306e\u57fa\u672c\u64cd\u4f5c\u306b\u52a0\u3048\u3001\u4ee5\u4e0b\u306e\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u3002 \u7247\u65b9\u306e\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u8abf\u6574 \u8ef8\u306e\u30e9\u30d9\u30eb\u4e0a\u3067\u30db\u30a4\u30fc\u30eb\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3067\u3001X \u8ef8\u306e\u307f\u307e\u305f\u306f Y \u8ef8\u306e\u307f\u306e\u30b9\u30b1\u30fc\u30eb\u8abf\u6574\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a73\u7d30\u60c5\u5831\u306e\u8868\u793a \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u7dda\u3084\u3001\u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u9818\u57df\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u5408\u308f\u305b\u308b\u3068\u3001\u8a73\u7d30\u60c5\u5831\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u30c1\u30a7\u30fc\u30f3\u306e\u30ec\u30a4\u30c6\u30f3\u30b7 # from caret_analyze.plot import chain_latency path = app . get_path ( 'target_path' ) chain_latency ( path , granularity = 'node' , treat_drop_as_delay = False , lstrip_s = 1 , rstrip_s = 1 ) treat_drop_as_delay=False \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u305b\u305a\u7d42\u70b9\u307e\u3067\u5230\u9054\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u529b\u3057\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u7b87\u6240\u3092\u9045\u5ef6\u3068\u3057\u3066\u7b97\u51fa\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u529b\u3057\u307e\u3059\u3002 \u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6642\u7cfb\u5217\u6ce2\u5f62 # t , latency_ns = path . to_timeseries ( remove_dropped = False , treat_drop_as_delay = True ) latency_ms = latency_ns * 1.0e-6 p = figure () p . line ( t , latency_ns ) show ( p ) \u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0 # \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 bins , hist = path . to_histogram ( treat_drop_as_delay = True ) p = figure () p . step ( hist [ 1 :], bins ) show ( p )","title":"\u30ae\u30e3\u30e9\u30ea\u30fc"},{"location":"supplements/gallery/#_1","text":"CARET\u3067\u53ef\u8996\u5316\u3067\u304d\u308b\u56f3\u306e\u4f8b\u3092\u4e0a\u3052\u307e\u3059\u3002 jupyter\u4e0a\u3067\u306e\u53ef\u8996\u5316\u3092\u60f3\u5b9a\u3057\u3066\u3057\u307e\u3059\u3002 notebook\u4e0a\u3067bokeh\u306e\u30b0\u30e9\u30d5\u3082\u8868\u793a\u3055\u305b\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u4e8b\u524d\u306b\u5b9f\u884c\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 from bokeh.plotting import output_notebook, figure, show output_notebook()","title":"\u30ae\u30e3\u30e9\u30ea\u30fc"},{"location":"supplements/gallery/#_2","text":"\u5404\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u3069\u306e\u6642\u70b9\u3067\u4f55\u306e\u51e6\u7406\u3092\u3057\u3066\u3044\u305f\u304b\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 from caret_analyze.plot import message_flow path = app . get_path ( 'target_path' ) message_flow ( path , granularity = 'node' , treat_drop_as_delay = False , lstrip_s = 1 , rstrip_s = 1 ) \u7e26\u8ef8\u306f\u4e0a\u304b\u3089\u4e0b\u306b\u5411\u304b\u3063\u3066\u3001\u30d1\u30b9\u306e\u59cb\u3081\u304b\u3089\u7d42\u308f\u308a\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u5404\u7dda\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u9818\u57df\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 treat_drop_as_delay=False \u3068\u3059\u308b\u3068\u3001\u30ce\u30fc\u30c9\u5185\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u3067\u6700\u65b0\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u307f\u3092\u4f7f\u3046\u3068\u3044\u3046\u4eee\u5b9a\u3057\u3001\u7dda\u3092\u9014\u4e2d\u3067\u9014\u5207\u308c\u3055\u305b\u3066\u8868\u793a\u3057\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3059\u308b\u3068\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30ed\u30b9\u30c8\u3092\u9045\u5ef6\u3068\u3057\u3066\u63db\u7b97\u3057\u307e\u3059\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u56f3\u3067\u306f\u3001bokeh \u306e\u57fa\u672c\u64cd\u4f5c\u306b\u52a0\u3048\u3001\u4ee5\u4e0b\u306e\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u3002 \u7247\u65b9\u306e\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u8abf\u6574 \u8ef8\u306e\u30e9\u30d9\u30eb\u4e0a\u3067\u30db\u30a4\u30fc\u30eb\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3067\u3001X \u8ef8\u306e\u307f\u307e\u305f\u306f Y \u8ef8\u306e\u307f\u306e\u30b9\u30b1\u30fc\u30eb\u8abf\u6574\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a73\u7d30\u60c5\u5831\u306e\u8868\u793a \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u7dda\u3084\u3001\u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u9818\u57df\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u5408\u308f\u305b\u308b\u3068\u3001\u8a73\u7d30\u60c5\u5831\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc"},{"location":"supplements/gallery/#_3","text":"from caret_analyze.plot import chain_latency path = app . get_path ( 'target_path' ) chain_latency ( path , granularity = 'node' , treat_drop_as_delay = False , lstrip_s = 1 , rstrip_s = 1 ) treat_drop_as_delay=False \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u305b\u305a\u7d42\u70b9\u307e\u3067\u5230\u9054\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u529b\u3057\u307e\u3059\u3002 treat_drop_as_delay=True \u3068\u3057\u305f\u5834\u5408\u3001\u30ed\u30b9\u30c8\u7b87\u6240\u3092\u9045\u5ef6\u3068\u3057\u3066\u7b97\u51fa\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u529b\u3057\u307e\u3059\u3002","title":"\u30c1\u30a7\u30fc\u30f3\u306e\u30ec\u30a4\u30c6\u30f3\u30b7"},{"location":"supplements/gallery/#_4","text":"t , latency_ns = path . to_timeseries ( remove_dropped = False , treat_drop_as_delay = True ) latency_ms = latency_ns * 1.0e-6 p = figure () p . line ( t , latency_ns ) show ( p )","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u6642\u7cfb\u5217\u6ce2\u5f62"},{"location":"supplements/gallery/#_5","text":"\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3082\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 bins , hist = path . to_histogram ( treat_drop_as_delay = True ) p = figure () p . step ( hist [ 1 :], bins ) show ( p )","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0"},{"location":"supplements/how_to_run_lttng_session/","text":"LTTng \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u65b9\u6cd5 # \u5225\u9014\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u958b\u59cb # \u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002 ros2 trace \u3084 caret \u306f ROS \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u521d\u671f\u5316\u6642\u306b\u547c\u3070\u308c\u308b\u95a2\u6570\u306b\u3082\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u9806\u756a\u3067\u8d77\u52d5\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb ros2 trace -s end_to_end_sample -k -u \"ros2*\" # \u30d8\u30eb\u30d7\u306f ros2 trace -h \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c $ ros2 launch caret_demos end_to_end_sample.launch.py \u3000 # end_to_end_sample.launch.py \u306b\u306f tracetools_launch.action.Trace \u304c\u8ffd\u52a0\u6e08\u307f\u3067\u3059\u3002 # \u81ea\u52d5\u3067ros2 trace\u540c\u7b49\u306e\u4e8b\u3092\u884c\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001ros2 trace \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3067\u3059\u3002 \u7d42\u4e86\u3059\u308b\u969b\u306e\u9806\u756a\u306b\u6307\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ros2 trace \u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306f Enter \u3092\u518d\u5ea6\u62bc\u3057\u3066\u7d42\u4e86\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Launch \u30b7\u30b9\u30c6\u30e0\u3067\u306e\u958b\u59cb # LTTng \u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb\u3092 launch \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002 launch \u30d5\u30a1\u30a4\u30eb\u5185\u3078\u3001 tracetools_launch.action.Trace \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 CARET_demos \u306e launch \u30d5\u30a1\u30a4\u30eb\u3067\u306f\u8a18\u8ff0\u6e08\u307f\u3067\u3059\u3002 \u53c2\u8003\u306e\u305f\u3081\u306b\u8ffd\u52a0\u7b87\u6240\u3092\u793a\u3057\u307e\u3059\u3002 $ cat ~/ ros2_ws / src / CARET_demos / caret_demos / launch / end_to_end_sample . launch . py import launch import launch.actions import launch.substitutions import launch_ros.actions from tracetools_launch.action import Trace def generate_launch_description (): return launch . LaunchDescription ([ ## Trace \u8ffd\u52a0 -- \u3053\u3053\u304b\u3089 -- Trace ( session_name = 'end_to_end_sample' , \u3000 # LTTng \u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u540d\u3002 events_kernel = [], # \u30ab\u30fc\u30cd\u30eb\u30a4\u30d9\u30f3\u30c8\u306f\u7121\u52b9\u5316 events_ust = [ 'ros2*' ] # ros2 \u3068 caret \u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u5316] ), ## Trace \u8ffd\u52a0 -- \u3053\u3053\u307e\u3067 -- launch_ros . actions . Node ( package = 'caret_demos' , executable = 'end_to_end_sample' , output = 'screen' ), ])","title":"Lttng\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u65b9\u6cd5"},{"location":"supplements/how_to_run_lttng_session/#lttng","text":"","title":"LTTng \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u65b9\u6cd5"},{"location":"supplements/how_to_run_lttng_session/#_1","text":"\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002 ros2 trace \u3084 caret \u306f ROS \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u521d\u671f\u5316\u6642\u306b\u547c\u3070\u308c\u308b\u95a2\u6570\u306b\u3082\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u9806\u756a\u3067\u8d77\u52d5\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb ros2 trace -s end_to_end_sample -k -u \"ros2*\" # \u30d8\u30eb\u30d7\u306f ros2 trace -h \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c $ ros2 launch caret_demos end_to_end_sample.launch.py \u3000 # end_to_end_sample.launch.py \u306b\u306f tracetools_launch.action.Trace \u304c\u8ffd\u52a0\u6e08\u307f\u3067\u3059\u3002 # \u81ea\u52d5\u3067ros2 trace\u540c\u7b49\u306e\u4e8b\u3092\u884c\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001ros2 trace \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3067\u3059\u3002 \u7d42\u4e86\u3059\u308b\u969b\u306e\u9806\u756a\u306b\u6307\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ros2 trace \u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306f Enter \u3092\u518d\u5ea6\u62bc\u3057\u3066\u7d42\u4e86\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u5225\u9014\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u958b\u59cb"},{"location":"supplements/how_to_run_lttng_session/#launch","text":"LTTng \u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb\u3092 launch \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002 launch \u30d5\u30a1\u30a4\u30eb\u5185\u3078\u3001 tracetools_launch.action.Trace \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 CARET_demos \u306e launch \u30d5\u30a1\u30a4\u30eb\u3067\u306f\u8a18\u8ff0\u6e08\u307f\u3067\u3059\u3002 \u53c2\u8003\u306e\u305f\u3081\u306b\u8ffd\u52a0\u7b87\u6240\u3092\u793a\u3057\u307e\u3059\u3002 $ cat ~/ ros2_ws / src / CARET_demos / caret_demos / launch / end_to_end_sample . launch . py import launch import launch.actions import launch.substitutions import launch_ros.actions from tracetools_launch.action import Trace def generate_launch_description (): return launch . LaunchDescription ([ ## Trace \u8ffd\u52a0 -- \u3053\u3053\u304b\u3089 -- Trace ( session_name = 'end_to_end_sample' , \u3000 # LTTng \u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u540d\u3002 events_kernel = [], # \u30ab\u30fc\u30cd\u30eb\u30a4\u30d9\u30f3\u30c8\u306f\u7121\u52b9\u5316 events_ust = [ 'ros2*' ] # ros2 \u3068 caret \u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u5316] ), ## Trace \u8ffd\u52a0 -- \u3053\u3053\u307e\u3067 -- launch_ros . actions . Node ( package = 'caret_demos' , executable = 'end_to_end_sample' , output = 'screen' ), ])","title":"Launch \u30b7\u30b9\u30c6\u30e0\u3067\u306e\u958b\u59cb"},{"location":"supplements/how_to_search_path/","text":"\u30d1\u30b9\u63a2\u7d22\u306e\u9ad8\u901f\u5316 # search_paths \u30e1\u30bd\u30c3\u30c9\u306f\u30ce\u30fc\u30c9\u56f3\u3092\u63cf\u304d\u3001\u59cb\u70b9\u306b\u8a2d\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u304b\u3089\u7d42\u70b9\u306b\u8a2d\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u307e\u3067\u3092\u4e00\u7b46\u66f8\u304d\u3067\u8fbf\u308c\u308b\u7d4c\u8def\uff08\u30d1\u30b9\uff09\u3092\u5168\u63a2\u7d22\u3057\u3001 \u898b\u3064\u304b\u3063\u305f\u7d4c\u8def\uff08\u30d1\u30b9\uff09\u3092\u5168\u3066\u8fd4\u5374\u3059\u308b\u95a2\u6570\u3067\u3059\u3002 \u30ce\u30fc\u30c9\u56f3\u304b\u3089\u5168\u3066\u306e\u63a2\u7d22\u3067\u304d\u308b\u30d1\u30b9\u3092\u5168\u63a2\u7d22\u3059\u308b\u305f\u3081\u3001\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u306f\u51e6\u7406\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u3001\u9ad8\u901f\u306b\u76ee\u7684\u3068\u3059\u308b\u30d1\u30b9\u3092\u63a2\u7d22\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 API # search_paths\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306a\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u3092\u907f\u3051\u308b\u305f\u3081\u306eAPI\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 search_paths( start_node_name: 'str', end_node_name: 'str', max_node_depth: 'Optional[int]' = None, node_filter: 'Optional[Callable[[str], bool]]' = None, communication_filter: 'Optional[Callable[[str], bool]]' = None ) -> 'List[PathStructValue]' start_node_name : \u63a2\u7d22\u306e\u59cb\u70b9\u3068\u306a\u308b\u30ce\u30fc\u30c9\u540d end_node_name : \u63a2\u7d22\u306e\u7d42\u70b9\u3068\u306a\u308b\u30ce\u30fc\u30c9\u540d max_node_depth : \u63a2\u7d22\u3059\u308b\u30d1\u30b9\u304c\u542b\u3080\u6700\u5927\u30ce\u30fc\u30c9\u6570\u3002\u5c0f\u3055\u3044\u307b\u3069\u63a2\u7d22\u7bc4\u56f2\u304c\u72ed\u304f\u306a\u308a\u307e\u3059 node_filter: \u63a2\u7d22\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3092\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u95a2\u6570\u3002True\u3092\u8fd4\u5374\u3057\u305f\u5834\u5408\u306f\u63a2\u7d22\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002 communication_filter: \u63a2\u7d22\u5bfe\u8c61\u306e\u901a\u4fe1\u3092\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u95a2\u6570\u3002True\u3092\u8fd4\u5374\u3057\u305f\u5834\u5408\u306f\u63a2\u7d22\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002 \u4f8b # import re # \u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u30ce\u30fc\u30c9\u540d\u3092\u63a2\u7d22\u304b\u3089\u9664\u5916\u3059\u308b node_filters = [ re.compile(r'/_ros2cli_/*'), re.compile(r'/launch_ros_*'), ] # \u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3092\u63a2\u7d22\u304b\u3089\u9664\u5916\u3059\u308b comm_filters = [ re.compile(r'/tf/*'), ] def comm_filter(topic_name: str) -> bool: can_pass = True for comm_filter in comm_filters: can_pass &= not bool(comm_filter.search(topic_name)) return can_pass def node_filter(node_name: str) -> bool: can_pass = True for node_filter in node_filters: can_pass &= not bool(node_filter.search(node_name)) return can_pass paths = arch.search_paths( '/start_node', '/end_node', max_node_depth=30, node_filter = node_filter, communication_filter = comm_filter)","title":"\u30d1\u30b9\u306e\u63a2\u7d22\u65b9\u6cd5"},{"location":"supplements/how_to_search_path/#_1","text":"search_paths \u30e1\u30bd\u30c3\u30c9\u306f\u30ce\u30fc\u30c9\u56f3\u3092\u63cf\u304d\u3001\u59cb\u70b9\u306b\u8a2d\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u304b\u3089\u7d42\u70b9\u306b\u8a2d\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u307e\u3067\u3092\u4e00\u7b46\u66f8\u304d\u3067\u8fbf\u308c\u308b\u7d4c\u8def\uff08\u30d1\u30b9\uff09\u3092\u5168\u63a2\u7d22\u3057\u3001 \u898b\u3064\u304b\u3063\u305f\u7d4c\u8def\uff08\u30d1\u30b9\uff09\u3092\u5168\u3066\u8fd4\u5374\u3059\u308b\u95a2\u6570\u3067\u3059\u3002 \u30ce\u30fc\u30c9\u56f3\u304b\u3089\u5168\u3066\u306e\u63a2\u7d22\u3067\u304d\u308b\u30d1\u30b9\u3092\u5168\u63a2\u7d22\u3059\u308b\u305f\u3081\u3001\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u306f\u51e6\u7406\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u3001\u9ad8\u901f\u306b\u76ee\u7684\u3068\u3059\u308b\u30d1\u30b9\u3092\u63a2\u7d22\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30d1\u30b9\u63a2\u7d22\u306e\u9ad8\u901f\u5316"},{"location":"supplements/how_to_search_path/#api","text":"search_paths\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306a\u6642\u9593\u304c\u304b\u304b\u308a\u3059\u304e\u3066\u3057\u307e\u3046\u30b1\u30fc\u30b9\u3092\u907f\u3051\u308b\u305f\u3081\u306eAPI\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 search_paths( start_node_name: 'str', end_node_name: 'str', max_node_depth: 'Optional[int]' = None, node_filter: 'Optional[Callable[[str], bool]]' = None, communication_filter: 'Optional[Callable[[str], bool]]' = None ) -> 'List[PathStructValue]' start_node_name : \u63a2\u7d22\u306e\u59cb\u70b9\u3068\u306a\u308b\u30ce\u30fc\u30c9\u540d end_node_name : \u63a2\u7d22\u306e\u7d42\u70b9\u3068\u306a\u308b\u30ce\u30fc\u30c9\u540d max_node_depth : \u63a2\u7d22\u3059\u308b\u30d1\u30b9\u304c\u542b\u3080\u6700\u5927\u30ce\u30fc\u30c9\u6570\u3002\u5c0f\u3055\u3044\u307b\u3069\u63a2\u7d22\u7bc4\u56f2\u304c\u72ed\u304f\u306a\u308a\u307e\u3059 node_filter: \u63a2\u7d22\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3092\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u95a2\u6570\u3002True\u3092\u8fd4\u5374\u3057\u305f\u5834\u5408\u306f\u63a2\u7d22\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002 communication_filter: \u63a2\u7d22\u5bfe\u8c61\u306e\u901a\u4fe1\u3092\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u95a2\u6570\u3002True\u3092\u8fd4\u5374\u3057\u305f\u5834\u5408\u306f\u63a2\u7d22\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002","title":"API"},{"location":"supplements/how_to_search_path/#_2","text":"import re # \u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u30ce\u30fc\u30c9\u540d\u3092\u63a2\u7d22\u304b\u3089\u9664\u5916\u3059\u308b node_filters = [ re.compile(r'/_ros2cli_/*'), re.compile(r'/launch_ros_*'), ] # \u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3092\u63a2\u7d22\u304b\u3089\u9664\u5916\u3059\u308b comm_filters = [ re.compile(r'/tf/*'), ] def comm_filter(topic_name: str) -> bool: can_pass = True for comm_filter in comm_filters: can_pass &= not bool(comm_filter.search(topic_name)) return can_pass def node_filter(node_name: str) -> bool: can_pass = True for node_filter in node_filters: can_pass &= not bool(node_filter.search(node_name)) return can_pass paths = arch.search_paths( '/start_node', '/end_node', max_node_depth=30, node_filter = node_filter, communication_filter = comm_filter)","title":"\u4f8b"},{"location":"supplements/how_to_write_architecture/","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5 # \u30d1\u30b9\u306e\u5b9a\u7fa9\u306e\u78ba\u8a8d\u65b9\u6cd5 # path . verify () WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/message_driven_node' ) message_context : null node : / message_driven_node publish_topic_name : / topic3 subscribe_topic_name : / topic2 WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/timer_driven_node' ) message_context : null node : / timer_driven_node publish_topic_name : / topic4 subscribe_topic_name : / topic3 check_procedure ( 'yaml' , './architecture.yaml' , arch , '/message_driven_node' ) [callback_chain] [callback_chain] Path Added: subscribe: /drive, publish: None, callbacks: ('/message_driven_node/callback_1',) Path Added: subscribe: /drive, publish: None, callbacks: ('/message_driven_node/callback_1',) Path Added: subscribe: /topic2, publish: None, callbacks: ('/message_driven_node/callback_0',) Path Added: subscribe: /topic2, publish: None, callbacks: ('/message_driven_node/callback_0',) [pub-sub pair] [pub-sub pair] Path Added: subscribe: /drive, publish: /topic3, Path Added: subscribe: /drive, publish: /topic3, Path Added: subscribe: /topic2, publish: /topic3, Path Added: subscribe: /topic2, publish: /topic3, [dummy paths] [dummy paths] Path Added: subscribe: None, publish: /topic3, Path Added: subscribe: None, publish: /topic3, message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/drive', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/drive', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/topic2', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/topic2', 'publisher_topic_name': '/topic3'} 5 paths found in /message_driven_node. 5 paths found in /message_driven_node. ----- [message context assigned] ----- [message context assigned] subscribe: /drive, publish: None, message_context: None subscribe: /drive, publish: None, message_context: None subscribe: /topic2, publish: None, message_context: None subscribe: /topic2, publish: None, message_context: None subscribe: /drive, publish: /topic3, message_context: None subscribe: /drive, publish: /topic3, message_context: None subscribe: /topic2, publish: /topic3, message_context: None subscribe: /topic2, publish: /topic3, message_context: None subscribe: None, publish: /topic3, message_context: None subscribe: None, publish: /topic3, message_context: None \u4eca\u56de\u306e\u5834\u5408\u306f\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u7b97\u51fa\u65b9\u6cd5\u306e\u6307\u5b9a # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u3001\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092subscribe\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u51e6\u7406\u958b\u59cb\u3059\u308b\u6642\u523b\u300d\u304b\u3089\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092publish\u3059\u308b\u6642\u523b\u300d\u307e\u3067\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u306b\u3082\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3001\u7d71\u4e00\u7684\u306a\u624b\u6cd5\u3067\u306e\u6e2c\u5b9a\u306f\u56f0\u96e3\u3067\u3059\u3002 CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4e3b\u306b message_context \u3068\u3044\u3046\u9805\u76ee\u3068\u3057\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002 message_context\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30dd\u30ea\u30b7\u30fc\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002 callback_chain inherit_unique_stamp use_latest_message \u305d\u308c\u305e\u308c\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u304c\u7570\u306a\u308a\u3001\u6e2c\u5b9a\u3067\u304d\u308b\u7c92\u5ea6\u306e\u9055\u3044\u3084\u3001\u6e2c\u5b9a\u3067\u304d\u308b\u30b1\u30fc\u30b9\u30fb\u3067\u304d\u306a\u3044\u30b1\u30fc\u30b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u5f93\u3063\u3066\u3001\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3057\u3001\u3069\u306e\u30dd\u30ea\u30b7\u30fc\u3067\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3055\u305b\u308b\u304b\u3001\u3092\u4f7f\u3044\u5206\u3051\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u7bc0\u3067\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u8a18\u8ff0\u65b9\u6cd5\u3092\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 callback_chain # callback_chain\u306f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u9593\u304b\u3089\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002 \u30ce\u30fc\u30c9\u306e\u5185\u306e\u51e6\u7406\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30ec\u30d9\u30eb\u307e\u3067\u5206\u89e3\u3059\u308b\u306e\u3067\u3001\u7d30\u304b\u3044\u7c92\u5ea6\u3067\u6e2c\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a18\u8ff0\u4f8b # \u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 *\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u306e\u4e0a\u3001\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3067\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0 - callback_name : timer_callback_0 variable_passings : - callback_name_write : subscription_callback_0 \u3010* \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30f3\u30d0\u306b\u66f8\u304d\u8fbc\u3080\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 callback_name_read : timer_callback_0 \u3010*\u30e1\u30f3\u30d0\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u3080\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0 \u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : callback_chain \u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_chain\u30dd\u30ea\u30b7\u30fc\u3067\u306f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3068\u3057\u3066\u3001 variable_passings \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306e\u53ef\u8996\u5316 # \u4f5c\u6210\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001 CUI \u306b\u3088\u308b\u53ef\u8996\u5316\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 cd ~/ros2_ws/evaluate ros2 caret callback_graph -a ./architecture.yaml -o calback_graph.svg \u30b0\u30e9\u30d5\u306e\u4f5c\u6210\u306b\u306f Graphviz \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u4f7f\u7528\u53ef\u80fd\u306a\u62e1\u5f35\u5b50\u306b\u3064\u3044\u3066\u306f Graphviz|Output Formats \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u7070\u8272\u306f\u540d\u524d\u7a7a\u9593\u3001\u89d2\u4e38\u56db\u89d2\u306f\u30ce\u30fc\u30c9\u3001\u56db\u89d2\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3001\u77e2\u5370\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u8d64\u77e2\u5370\u306f\u30c8\u30d4\u30c3\u30af\u3092 publish \u3057\u3066\u3044\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u4e0d\u660e\u306a\u30c8\u30d4\u30c3\u30af\u901a\u4fe1\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u8d64\u77e2\u5370\u304c\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001publish \u5143\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u7b87\u6240\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u578b\u306f svg \u5f62\u5f0f\u3067\u3001 tooltip \u306b\u3088\u308b\u60c5\u5831\u306e\u8868\u793a\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30bd\u30eb\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306b\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30b7\u30f3\u30dc\u30eb\u540d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u60c5\u5831\u306e\u8a18\u8ff0 # \u51fa\u529b\u76f4\u5f8c\u306e\u96db\u5f62\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u4f9d\u5b58\u95a2\u4fc2\u306a\u3069\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 caret \u306f\u30d1\u30b9\u306e\u63a2\u7d22\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u69cb\u7bc9\u306e\u305f\u3081\u306b\u4fee\u6b63\u3059\u308b\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3068 publish \u306e\u7d10\u4ed8\u3051\uff08\u4e0a\u56f3\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306e\u8d64\u77e2\u5370\uff09 [/nodes/node/publish] \u306b\u306f\u3001\u30ce\u30fc\u30c9\u304c publish \u3057\u3066\u3044\u308b\u30c8\u30d4\u30c3\u30af\u540d\u304c key \u3068\u3057\u3066\u5217\u6319\u3055\u308c\u3066\u3044\u307e\u3059\u3002 value \u306b\u30c8\u30d4\u30c3\u30af\u3092 publish \u3057\u3066\u3044\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672a\u63a5\u7d9a\u306e\u30c8\u30d4\u30c3\u30af\u901a\u4fe1\uff08\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u4e0a\u306e\u8d64\u77e2\u5370\uff09\u304c\u7121\u304f\u306a\u308b\u307e\u3067\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002 publishes:\u3010\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u306e\u60c5\u5831\u3011 - topic_name : /topic4\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u5909\u6570\u6e21\u3057\u306e\u8a18\u8ff0 [/nodes/node/variable_passing]\u306b\u306f\u3001\u5909\u6570\u6e21\u3057\u306b\u3088\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 callback_write \u306b\u306f\u66f8\u304d\u8fbc\u307f\u5074\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3001callback_read \u306b\u306f\u8aad\u307f\u8fbc\u307f\u5074\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 variable_passings:\u3010\u5909\u6570\u3092\u4ecb\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3011 - callback_name_write : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 callback_name_read : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 \u5168\u3066\u306e\u77e2\u5370\u304c\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304b\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 inherit_unique_stamp # \u8a18\u8ff0\u4f8b # \u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0 \u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : subscription_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : inherit_unique_stamp\u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 use_latest_message # \u8a18\u8ff0\u4f8b # \u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : subscription_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : inherit_unique_stamp\u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306e\u6307\u5b9a"},{"location":"supplements/how_to_write_architecture/#_1","text":"","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5"},{"location":"supplements/how_to_write_architecture/#_2","text":"path . verify () WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/message_driven_node' ) message_context : null node : / message_driven_node publish_topic_name : / topic3 subscribe_topic_name : / topic2 WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/timer_driven_node' ) message_context : null node : / timer_driven_node publish_topic_name : / topic4 subscribe_topic_name : / topic3 check_procedure ( 'yaml' , './architecture.yaml' , arch , '/message_driven_node' ) [callback_chain] [callback_chain] Path Added: subscribe: /drive, publish: None, callbacks: ('/message_driven_node/callback_1',) Path Added: subscribe: /drive, publish: None, callbacks: ('/message_driven_node/callback_1',) Path Added: subscribe: /topic2, publish: None, callbacks: ('/message_driven_node/callback_0',) Path Added: subscribe: /topic2, publish: None, callbacks: ('/message_driven_node/callback_0',) [pub-sub pair] [pub-sub pair] Path Added: subscribe: /drive, publish: /topic3, Path Added: subscribe: /drive, publish: /topic3, Path Added: subscribe: /topic2, publish: /topic3, Path Added: subscribe: /topic2, publish: /topic3, [dummy paths] [dummy paths] Path Added: subscribe: None, publish: /topic3, Path Added: subscribe: None, publish: /topic3, message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/drive', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/drive', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/topic2', 'publisher_topic_name': '/topic3'} message context is UNDEFINED. {'context_type': 'UNDEFINED', 'subscription_topic_name': '/topic2', 'publisher_topic_name': '/topic3'} 5 paths found in /message_driven_node. 5 paths found in /message_driven_node. ----- [message context assigned] ----- [message context assigned] subscribe: /drive, publish: None, message_context: None subscribe: /drive, publish: None, message_context: None subscribe: /topic2, publish: None, message_context: None subscribe: /topic2, publish: None, message_context: None subscribe: /drive, publish: /topic3, message_context: None subscribe: /drive, publish: /topic3, message_context: None subscribe: /topic2, publish: /topic3, message_context: None subscribe: /topic2, publish: /topic3, message_context: None subscribe: None, publish: /topic3, message_context: None subscribe: None, publish: /topic3, message_context: None \u4eca\u56de\u306e\u5834\u5408\u306f\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30d1\u30b9\u306e\u5b9a\u7fa9\u306e\u78ba\u8a8d\u65b9\u6cd5"},{"location":"supplements/how_to_write_architecture/#_3","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u3001\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092subscribe\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u51e6\u7406\u958b\u59cb\u3059\u308b\u6642\u523b\u300d\u304b\u3089\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092publish\u3059\u308b\u6642\u523b\u300d\u307e\u3067\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u306b\u3082\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3001\u7d71\u4e00\u7684\u306a\u624b\u6cd5\u3067\u306e\u6e2c\u5b9a\u306f\u56f0\u96e3\u3067\u3059\u3002 CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4e3b\u306b message_context \u3068\u3044\u3046\u9805\u76ee\u3068\u3057\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002 message_context\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30dd\u30ea\u30b7\u30fc\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002 callback_chain inherit_unique_stamp use_latest_message \u305d\u308c\u305e\u308c\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u304c\u7570\u306a\u308a\u3001\u6e2c\u5b9a\u3067\u304d\u308b\u7c92\u5ea6\u306e\u9055\u3044\u3084\u3001\u6e2c\u5b9a\u3067\u304d\u308b\u30b1\u30fc\u30b9\u30fb\u3067\u304d\u306a\u3044\u30b1\u30fc\u30b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002 \u5f93\u3063\u3066\u3001\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3057\u3001\u3069\u306e\u30dd\u30ea\u30b7\u30fc\u3067\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3055\u305b\u308b\u304b\u3001\u3092\u4f7f\u3044\u5206\u3051\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u7bc0\u3067\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u8a18\u8ff0\u65b9\u6cd5\u3092\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u7b97\u51fa\u65b9\u6cd5\u306e\u6307\u5b9a"},{"location":"supplements/how_to_write_architecture/#callback_chain","text":"callback_chain\u306f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u9593\u304b\u3089\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002 \u30ce\u30fc\u30c9\u306e\u5185\u306e\u51e6\u7406\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30ec\u30d9\u30eb\u307e\u3067\u5206\u89e3\u3059\u308b\u306e\u3067\u3001\u7d30\u304b\u3044\u7c92\u5ea6\u3067\u6e2c\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002","title":"callback_chain"},{"location":"supplements/how_to_write_architecture/#_4","text":"\u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 *\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u306e\u4e0a\u3001\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3067\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0 - callback_name : timer_callback_0 variable_passings : - callback_name_write : subscription_callback_0 \u3010* \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30e1\u30f3\u30d0\u306b\u66f8\u304d\u8fbc\u3080\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 callback_name_read : timer_callback_0 \u3010*\u30e1\u30f3\u30d0\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u3080\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0 \u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : callback_chain \u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_chain\u30dd\u30ea\u30b7\u30fc\u3067\u306f\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u60c5\u5831\u3068\u3057\u3066\u3001 variable_passings \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u8a18\u8ff0\u4f8b"},{"location":"supplements/how_to_write_architecture/#_5","text":"\u4f5c\u6210\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001 CUI \u306b\u3088\u308b\u53ef\u8996\u5316\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 cd ~/ros2_ws/evaluate ros2 caret callback_graph -a ./architecture.yaml -o calback_graph.svg \u30b0\u30e9\u30d5\u306e\u4f5c\u6210\u306b\u306f Graphviz \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u4f7f\u7528\u53ef\u80fd\u306a\u62e1\u5f35\u5b50\u306b\u3064\u3044\u3066\u306f Graphviz|Output Formats \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u7070\u8272\u306f\u540d\u524d\u7a7a\u9593\u3001\u89d2\u4e38\u56db\u89d2\u306f\u30ce\u30fc\u30c9\u3001\u56db\u89d2\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3001\u77e2\u5370\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u8d64\u77e2\u5370\u306f\u30c8\u30d4\u30c3\u30af\u3092 publish \u3057\u3066\u3044\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u4e0d\u660e\u306a\u30c8\u30d4\u30c3\u30af\u901a\u4fe1\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u8d64\u77e2\u5370\u304c\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3001publish \u5143\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u7b87\u6240\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u578b\u306f svg \u5f62\u5f0f\u3067\u3001 tooltip \u306b\u3088\u308b\u60c5\u5831\u306e\u8868\u793a\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u30ab\u30fc\u30bd\u30eb\u3092\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306b\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30b7\u30f3\u30dc\u30eb\u540d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306e\u53ef\u8996\u5316"},{"location":"supplements/how_to_write_architecture/#_6","text":"\u51fa\u529b\u76f4\u5f8c\u306e\u96db\u5f62\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u4f9d\u5b58\u95a2\u4fc2\u306a\u3069\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 caret \u306f\u30d1\u30b9\u306e\u63a2\u7d22\u306b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u69cb\u7bc9\u306e\u305f\u3081\u306b\u4fee\u6b63\u3059\u308b\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3068 publish \u306e\u7d10\u4ed8\u3051\uff08\u4e0a\u56f3\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306e\u8d64\u77e2\u5370\uff09 [/nodes/node/publish] \u306b\u306f\u3001\u30ce\u30fc\u30c9\u304c publish \u3057\u3066\u3044\u308b\u30c8\u30d4\u30c3\u30af\u540d\u304c key \u3068\u3057\u3066\u5217\u6319\u3055\u308c\u3066\u3044\u307e\u3059\u3002 value \u306b\u30c8\u30d4\u30c3\u30af\u3092 publish \u3057\u3066\u3044\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672a\u63a5\u7d9a\u306e\u30c8\u30d4\u30c3\u30af\u901a\u4fe1\uff08\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u4e0a\u306e\u8d64\u77e2\u5370\uff09\u304c\u7121\u304f\u306a\u308b\u307e\u3067\u4fee\u6b63\u3057\u3066\u304f\u3060\u3055\u3044\u3002 publishes:\u3010\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u306e\u60c5\u5831\u3011 - topic_name : /topic4\u3010\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u5909\u6570\u6e21\u3057\u306e\u8a18\u8ff0 [/nodes/node/variable_passing]\u306b\u306f\u3001\u5909\u6570\u6e21\u3057\u306b\u3088\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 callback_write \u306b\u306f\u66f8\u304d\u8fbc\u307f\u5074\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3001callback_read \u306b\u306f\u8aad\u307f\u8fbc\u307f\u5074\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3092\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 variable_passings:\u3010\u5909\u6570\u3092\u4ecb\u3057\u305f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6e21\u3057\u3011 - callback_name_write : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 callback_name_read : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d*\u3011 \u5168\u3066\u306e\u77e2\u5370\u304c\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304b\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u60c5\u5831\u306e\u8a18\u8ff0"},{"location":"supplements/how_to_write_architecture/#inherit_unique_stamp","text":"","title":"inherit_unique_stamp"},{"location":"supplements/how_to_write_architecture/#_7","text":"\u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0 \u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : subscription_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : inherit_unique_stamp\u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011","title":"\u8a18\u8ff0\u4f8b"},{"location":"supplements/how_to_write_architecture/#use_latest_message","text":"","title":"use_latest_message"},{"location":"supplements/how_to_write_architecture/#_8","text":"\u91cd\u8981\u306a\u9805\u76ee\u306e\u307f\u3092\u629c\u7c8b\u3057\u305f\u8a18\u8ff0\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 - node_name : /ping_node callbacks : - callback_name : subscription_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 - callback_name : timer_callback_0\u3010\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 publishes : - topic_name : /ping\u3010/ping_node\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_names : - timer_callback_0\u3010* /ping\u30c8\u30d4\u30c3\u30af\u3092publish\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u540d\u3011 subscribes : - topic_name : /pong\u3010/ping_node\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 callback_name : subscription_callback_0\u3010subscribe\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3011 message_contexts : - context_type : inherit_unique_stamp\u3010*\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u30dd\u30ea\u30b7\u30fc\u3011 subscription_topic_name : /pong\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304csubscribe\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011 publisher_topic_name : /ping\u3010\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u304cpublish\u3059\u308b\u30c8\u30d4\u30c3\u30af\u540d\u3011","title":"\u8a18\u8ff0\u4f8b"},{"location":"supplements/latency_definition/","text":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 #","title":"\u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/latency_definition/#_1","text":"","title":"\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/limits/","text":"\u5236\u9650 # \u4efb\u610f\u306e\u30ce\u30fc\u30c9\u30da\u30a2\u306e\u9593\u306f\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u30fb\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306f\u56fa\u5b9a\u3002\u30c8\u30d4\u30c3\u30af\u6bce\u306b\u6307\u5b9a\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3002 /rosout \u3084/parameter_event \u306f\u30d1\u30b9\u306b\u306f\u542b\u307e\u306a\u3044\u3002 \u540c\u3058\u540d\u524d\u7a7a\u9593\u3092\u6301\u3064\u3001\u540c\u3058\u30ce\u30fc\u30c9\u540d\u306f\u4e00\u3064\u306e\u307f\u3002 ROS\u30ec\u30a4\u30e4\u30fc\u3092\u30e9\u30c3\u30d7\u3057\u3066\u3044\u308b\u3002 \u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u30da\u30a2\u304c\u5b58\u5728\u3059\u308b\u3002\u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u306e\u5b9f\u884c\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u308b\u3000\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u30da\u30a2\u304c\u3042\u308b\u3002 reentrant\u3067\u5b9f\u884c\u3057\u3066\u3044\u306a\u3044 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\uff08rclcpp \u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u305f\u3081\uff09 galatic \u306e\u307f \u5bfe\u5fdc FastDDS/CycloneDDS \u306e\u307f\u5bfe\u5fdc\uff08DDS-layer \u6e2c\u5b9a\u306e\u305f\u3081\u306b DDS \u5185\u306e\u30d5\u30c3\u30af\u3082\u884c\u3063\u3066\u3044\u308b\u305f\u3081\uff09 Linux \u306e\u307f\u306e\u5bfe\u5fdc\uff08LTTng \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u308b\u3082\u306e\uff09","title":"\u30c4\u30fc\u30eb\u5229\u7528\u6642\u306e\u5236\u7d04"},{"location":"supplements/limits/#_1","text":"\u4efb\u610f\u306e\u30ce\u30fc\u30c9\u30da\u30a2\u306e\u9593\u306f\u30d7\u30ed\u30bb\u30b9\u5185\u901a\u4fe1\u30fb\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306f\u56fa\u5b9a\u3002\u30c8\u30d4\u30c3\u30af\u6bce\u306b\u6307\u5b9a\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3002 /rosout \u3084/parameter_event \u306f\u30d1\u30b9\u306b\u306f\u542b\u307e\u306a\u3044\u3002 \u540c\u3058\u540d\u524d\u7a7a\u9593\u3092\u6301\u3064\u3001\u540c\u3058\u30ce\u30fc\u30c9\u540d\u306f\u4e00\u3064\u306e\u307f\u3002 ROS\u30ec\u30a4\u30e4\u30fc\u3092\u30e9\u30c3\u30d7\u3057\u3066\u3044\u308b\u3002 \u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u30da\u30a2\u304c\u5b58\u5728\u3059\u308b\u3002\u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u306e\u5b9f\u884c\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u308b\u3000\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u30da\u30a2\u304c\u3042\u308b\u3002 reentrant\u3067\u5b9f\u884c\u3057\u3066\u3044\u306a\u3044 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\uff08rclcpp \u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u305f\u3081\uff09 galatic \u306e\u307f \u5bfe\u5fdc FastDDS/CycloneDDS \u306e\u307f\u5bfe\u5fdc\uff08DDS-layer \u6e2c\u5b9a\u306e\u305f\u3081\u306b DDS \u5185\u306e\u30d5\u30c3\u30af\u3082\u884c\u3063\u3066\u3044\u308b\u305f\u3081\uff09 Linux \u306e\u307f\u306e\u5bfe\u5fdc\uff08LTTng \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u308b\u3082\u306e\uff09","title":"\u5236\u9650"},{"location":"supplements/node_latency_definition/","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066 # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u7b97\u51fa\u304c\u56f0\u96e3\u3067\u3059 \u76f4\u63a5\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u8ffd\u3044\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u3059\u306e\u306f\u7c21\u5358\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 CARET\u306f\u3044\u304f\u3064\u304b\u306e\u524d\u63d0\u306e\u3082\u3068\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002 callback_chain \u30dd\u30ea\u30b7\u30fc # \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306b\u3064\u3044\u3066 \u3082\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u60f3\u5b9a \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\uff11\u3092\u60f3\u5b9a \u53b3\u5bc6\u306b\u6e2c\u5b9a\u3067\u304d\u308b\u306e\u306fSingle Threaded Executor\u306e\u307f \u9577\u6240 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3078\u306e\u5909\u66f4\u304c\u4e0d\u8981 \u4efb\u610f\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u578b\u306b\u9069\u7528\u53ef\u80fd \u77ed\u6240 \u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3044\u6642\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5c0f\u3055\u3081\u306b\u51fa\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u3002 multi threaded executor \u3067\u306f\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5927\u304d\u3081\u306b\u51fa\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u3002 \u5b9f\u88c5\u3092\u8aad\u307f\u89e3\u304f\u306e\u304c\u96e3\u3057\u3044 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # inherit_unique_stamp \u30dd\u30ea\u30b7\u30fc # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # \u5165\u51fa\u529b\u306e\u30d8\u30c3\u30c0\u30fc\u3067\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u53d6\u308a\u3001\u5165\u529b\u30c8\u30d4\u30c3\u30af\u3068\u51fa\u529b\u30c8\u30d4\u30c3\u30af\u306e\u6642\u523b\u306e\u5dee\u5206\u304b\u3089\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u60f3\u5b9a \u5165\u51fa\u529b\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u5024\u3067\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u53d6\u308c\u308b\u3053\u3068\uff08\u5024\u3092\u66f8\u304d\u63db\u3048\u305a\u306b\u3001\u305d\u306e\u307e\u307e publish \u3057\u3066\u3044\u308b\u3053\u3068\uff09 \u5165\u51fa\u529b\u3068\u3082\u306b header \u3092\u3082\u3063\u3066\u3044\u308b\u3053\u3068 \u9577\u6240 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3078\u306e\u5909\u66f4\u304c\u4e0d\u8981 \u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\u306b\u4f9d\u3089\u306a\u3044 \u77ed\u6240 \u30d8\u30c3\u30c0\u30fc\u304c\u5fc5\u8981 publish \u524d\u306b stamp=\u73fe\u5728\u6642\u523b\u3068\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u306f\u5bfe\u5fdc\u4e0d\u53ef use_latest_message \u30dd\u30ea\u30b7\u30fc # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9 # \u5404\u30dd\u30ea\u30b7\u30fc\u306e\u6bd4\u8f03 # \u30dd\u30ea\u30b7\u30fc\u306e\u9078\u3073\u65b9 # \u6c7a\u5b9a\u6728\u304c\u6b32\u3057\u3044 \u6ce8\u610f\u70b9 # \u6e2c\u5b9a\u3067\u304d\u306a\u3044\u30b1\u30fc\u30b9 \u8aa4\u3063\u305f\u5024\u3092\u7b97\u51fa\u3059\u308b\u30b1\u30fc\u30b9","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/node_latency_definition/#_1","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u7b97\u51fa\u304c\u56f0\u96e3\u3067\u3059 \u76f4\u63a5\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u8ffd\u3044\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u51fa\u3059\u306e\u306f\u7c21\u5358\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 CARET\u306f\u3044\u304f\u3064\u304b\u306e\u524d\u63d0\u306e\u3082\u3068\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u3064\u3044\u3066"},{"location":"supplements/node_latency_definition/#callback_chain","text":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30b0\u30e9\u30d5\u306b\u3064\u3044\u3066 \u3082\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u60f3\u5b9a \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u9593\u306e\u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\uff11\u3092\u60f3\u5b9a \u53b3\u5bc6\u306b\u6e2c\u5b9a\u3067\u304d\u308b\u306e\u306fSingle Threaded Executor\u306e\u307f \u9577\u6240 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3078\u306e\u5909\u66f4\u304c\u4e0d\u8981 \u4efb\u610f\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u578b\u306b\u9069\u7528\u53ef\u80fd \u77ed\u6240 \u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3044\u6642\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5c0f\u3055\u3081\u306b\u51fa\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u3002 multi threaded executor \u3067\u306f\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5927\u304d\u3081\u306b\u51fa\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u3002 \u5b9f\u88c5\u3092\u8aad\u307f\u89e3\u304f\u306e\u304c\u96e3\u3057\u3044","title":"callback_chain \u30dd\u30ea\u30b7\u30fc"},{"location":"supplements/node_latency_definition/#_2","text":"","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/node_latency_definition/#_3","text":"","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/node_latency_definition/#inherit_unique_stamp","text":"","title":"inherit_unique_stamp \u30dd\u30ea\u30b7\u30fc"},{"location":"supplements/node_latency_definition/#_4","text":"\u5165\u51fa\u529b\u306e\u30d8\u30c3\u30c0\u30fc\u3067\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u53d6\u308a\u3001\u5165\u529b\u30c8\u30d4\u30c3\u30af\u3068\u51fa\u529b\u30c8\u30d4\u30c3\u30af\u306e\u6642\u523b\u306e\u5dee\u5206\u304b\u3089\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u60f3\u5b9a \u5165\u51fa\u529b\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u5024\u3067\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u53d6\u308c\u308b\u3053\u3068\uff08\u5024\u3092\u66f8\u304d\u63db\u3048\u305a\u306b\u3001\u305d\u306e\u307e\u307e publish \u3057\u3066\u3044\u308b\u3053\u3068\uff09 \u5165\u51fa\u529b\u3068\u3082\u306b header \u3092\u3082\u3063\u3066\u3044\u308b\u3053\u3068 \u9577\u6240 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3078\u306e\u5909\u66f4\u304c\u4e0d\u8981 \u30ad\u30e5\u30fc\u30b5\u30a4\u30ba\u306b\u4f9d\u3089\u306a\u3044 \u77ed\u6240 \u30d8\u30c3\u30c0\u30fc\u304c\u5fc5\u8981 publish \u524d\u306b stamp=\u73fe\u5728\u6642\u523b\u3068\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u306f\u5bfe\u5fdc\u4e0d\u53ef","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/node_latency_definition/#use_latest_message","text":"","title":"use_latest_message \u30dd\u30ea\u30b7\u30fc"},{"location":"supplements/node_latency_definition/#_5","text":"","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9"},{"location":"supplements/node_latency_definition/#_6","text":"","title":"\u5404\u30dd\u30ea\u30b7\u30fc\u306e\u6bd4\u8f03"},{"location":"supplements/node_latency_definition/#_7","text":"\u6c7a\u5b9a\u6728\u304c\u6b32\u3057\u3044","title":"\u30dd\u30ea\u30b7\u30fc\u306e\u9078\u3073\u65b9"},{"location":"supplements/node_latency_definition/#_8","text":"\u6e2c\u5b9a\u3067\u304d\u306a\u3044\u30b1\u30fc\u30b9 \u8aa4\u3063\u305f\u5024\u3092\u7b97\u51fa\u3059\u308b\u30b1\u30fc\u30b9","title":"\u6ce8\u610f\u70b9"},{"location":"supplements/trace_filtering/","text":"\u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 # IGNORE \u3068 SELECT \u304c\u4e21\u65b9\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001SELECT \u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002 :\uff08\u30b3\u30ed\u30f3\uff09 \u533a\u5207\u308a\u3067\u8907\u6570\u6307\u5b9a\u3002\u6b63\u898f\u8868\u73fe\u304c\u5229\u7528\u53ef\uff08\u4f8b\uff1a/topic*:/parameter_events:/rosout\uff09 CARET_SELECT_NODES : \u30c8\u30ec\u30fc\u30b9\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u540d CARET_IGNORE_NODES : \u30c8\u30ec\u30fc\u30b9\u304b\u3089\u9664\u5916\u3055\u308c\u308b\u30ce\u30fc\u30c9\u540d CARET_SELECT_TOPICS : \u30c8\u30ec\u30fc\u30b9\u5bfe\u8c61\u306e\u30c8\u30d4\u30c3\u30af\u540d CARET_IGNORE_TOPICS : \u30c8\u30ec\u30fc\u30b9\u304b\u3089\u9664\u5916\u3055\u308c\u308b\u30ce\u30fc\u30c9\u540d rviz \u30ce\u30fc\u30c9\u95a2\u9023\u3084\u3001/clock \u30c8\u30d4\u30c3\u30af\u30fb/parameter_events \u30c8\u30d4\u30c3\u30af\u306f\u591a\u304f\u306e\u5834\u5408\u4e0d\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u7121\u99c4\u306a\u30c8\u30ec\u30fc\u30b9\u30ed\u30b0\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" \u73fe\u6642\u70b9\u306eCARET\u3067\u306f\u3001\u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3088\u308b\u9664\u5916\u306f\u5b8c\u5168\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u7279\u306bDDS\u30ec\u30a4\u30e4\u30fc\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u3053\u308c\u306f\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306e\u5224\u5b9a\u306b\u30c8\u30d4\u30c3\u30af\u540d\u3084\u30ce\u30fc\u30c9\u540d\u3092\u4f7f\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u7406\u7531\u3067\u3059\u3002","title":"\u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0"},{"location":"supplements/trace_filtering/#_1","text":"IGNORE \u3068 SELECT \u304c\u4e21\u65b9\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001SELECT \u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002 :\uff08\u30b3\u30ed\u30f3\uff09 \u533a\u5207\u308a\u3067\u8907\u6570\u6307\u5b9a\u3002\u6b63\u898f\u8868\u73fe\u304c\u5229\u7528\u53ef\uff08\u4f8b\uff1a/topic*:/parameter_events:/rosout\uff09 CARET_SELECT_NODES : \u30c8\u30ec\u30fc\u30b9\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u540d CARET_IGNORE_NODES : \u30c8\u30ec\u30fc\u30b9\u304b\u3089\u9664\u5916\u3055\u308c\u308b\u30ce\u30fc\u30c9\u540d CARET_SELECT_TOPICS : \u30c8\u30ec\u30fc\u30b9\u5bfe\u8c61\u306e\u30c8\u30d4\u30c3\u30af\u540d CARET_IGNORE_TOPICS : \u30c8\u30ec\u30fc\u30b9\u304b\u3089\u9664\u5916\u3055\u308c\u308b\u30ce\u30fc\u30c9\u540d rviz \u30ce\u30fc\u30c9\u95a2\u9023\u3084\u3001/clock \u30c8\u30d4\u30c3\u30af\u30fb/parameter_events \u30c8\u30d4\u30c3\u30af\u306f\u591a\u304f\u306e\u5834\u5408\u4e0d\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u7121\u99c4\u306a\u30c8\u30ec\u30fc\u30b9\u30ed\u30b0\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" \u73fe\u6642\u70b9\u306eCARET\u3067\u306f\u3001\u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3088\u308b\u9664\u5916\u306f\u5b8c\u5168\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u7279\u306bDDS\u30ec\u30a4\u30e4\u30fc\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306f\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u3053\u308c\u306f\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306e\u5224\u5b9a\u306b\u30c8\u30d4\u30c3\u30af\u540d\u3084\u30ce\u30fc\u30c9\u540d\u3092\u4f7f\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u7406\u7531\u3067\u3059\u3002","title":"\u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0"},{"location":"supplements/trouble_shooting/","text":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 # \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u306a\u3069\u3001\u53ef\u8996\u5316\u6642\u306b\u554f\u984c\u304c\u3042\u308b # \u4ee5\u4e0b\u304c\u8003\u3048\u3089\u308c\u307e\u3059 \u74b0\u5883\u5909\u6570 LD_PRELOAD \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044 \u521d\u671f\u5316\u6642\u306e\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044 ros2 tracing \u30b3\u30de\u30f3\u30c9\u3067\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u5834\u5408\u3001 ros2 tracing \u30b3\u30de\u30f3\u30c9\u5b9f\u884c \u2192Enter \u3067\u30b9\u30bf\u30fc\u30c8\u3055\u305b\u305f\u5f8c\u3001 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u6e08\u307f rclcpp \u3067\u30d3\u30eb\u30c9\u3057\u76f4\u3057\u3057\u3066\u3044\u306a\u3044 caret \u306f ros \u30ec\u30a4\u30e4\u30fc\u306b\u3082\u4e00\u90e8\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3089\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 mkdir -p ~/ros2_ws/src cd ~/ros2_ws git clone https://github.com/tier4/CARET_demos.git src/CARET_demos --recursive source ~/ros2_caret_ws/install/local_setup.bash colcon build --symlink-install \u6e2c\u5b9a\u7d50\u679c\u304c\u660e\u3089\u304b\u306b\u304a\u304b\u3057\u3044 # \u4ee5\u4e0b\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u305a\u30ed\u30b9\u30c8\u3057\u3066\u3044\u308b \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30a8\u30e9\u30fc\u51fa\u529b\u304c\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ babeltrace autoware > /dev/null [ warning ] Tracer discarded 3435 events between [ 15 :05:22.967846940 ] and [ 15 :05:23.025356129 ] in trace UUID 236d978f8bde4cbc9460b0f4e008081, at path: \"autoware/ust/uid/1000/64-bit\" , within stream id 0 , at relative path: \"ros2_12\" . You should consider recording a new trace with larger buffers or with fewer events enabled. [ warning ] Tracer discarded 3910 events between [ 15 :05:22.972199681 ] and [ 15 :05:23.024463592 ] in trace UUID 236d978f8bde4cbc9460b0f4e008081, at path: \"autoware/ust/uid/1000/64-bit\" , within stream id 0 , at relative path: \"ros2_6\" . You should consider recording a new trace with larger buffers or with fewer events enabled. \u4e0a\u8a18\u306e\u3088\u3046\u306b Tracer discarded 3435 events \u3068\u51fa\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u3001\u6e2c\u5b9a\u7d50\u679c\u304c\u6b63\u3057\u304f\u3067\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u306a\u3044\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u3001\u518d\u5ea6\u6e2c\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" \u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002 TraceResultAanalyzeError: Failed to find \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u305f\u60c5\u5831\u304c\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u4e0a\u3067\u898b\u3064\u304b\u3089\u306a\u3044\u969b\u306b\u751f\u3058\u308b\u30a8\u30e9\u30fc\u3067\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304c\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u6307\u3057\u3066\u3044\u307e\u3059\u3002 \u8868\u793a\u3055\u308c\u305f\u30a8\u30e9\u30fc\u6587\u3092\u53c2\u8003\u306b\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u307e\u305f\u306f\u6e2c\u5b9a\u65b9\u6cd5\u3092\u898b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f8b TraceResultAanalyzeError: Failed to find callback_object.node_name: /localization/pose_twist_fusion_filter/ekf_localizer, callback_name: timer_callback_0, period_ns: 19999999, symbol: void (EKFLocalizer::?)() \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u60c5\u5831\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002 node_name\uff1a/localization/pose_twist_fusion_filter/ekf_localizer callback_name\uff1atimer_callback_0 period_ns\uff1a19999999 symbol\uff1avoid (EKFLocalizer::?)() \u7279\u5b9a\u306e\u30ce\u30fc\u30c9\u3060\u3051\u6e2c\u5b9a\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u3002 # \u4e00\u90e8\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u73fe\u8c61\u304c\u6b8b\u3063\u3066\u304a\u308a\u3001\u3053\u308c\u304c\u539f\u56e0\u306e\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u73fe\u5728\u3001\u30d5\u30a9\u30fc\u30af\u3057\u305fROS\u30ec\u30a4\u30e4\u30fc\u306b\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u6b63\u3057\u304f\u6e2c\u5b9a\u3055\u308c\u306a\u3044\u554f\u984c\u304c\u898b\u3064\u304b\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306f\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u30d5\u30a9\u30fc\u30af\u3057\u305frclcpp\u304c\u53c2\u7167\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002 \u4e0a\u8a18\u624b\u9806\u3067\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u3001 CMakeLists.txt\u306efind_package\u5f8c\u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 include_directories(SYSTEM /home/autoware/ros2_caret_ws/install/rclcpp/include) \u30d5\u30a9\u30fc\u30af\u3057\u305frclcpp\u3067\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 \u306e\u8868\u5185\u3067\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9f\u88c5\u65b9\u6cd5\u304c\u300crclcpp\u30d1\u30c3\u30b1\u30fc\u30b8\u65b0\u898f\u8ffd\u52a0\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u9805\u76ee\u304c\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u56f3\u304c\u9014\u4e2d\u3067\u6b62\u307e\u3063\u3066\u3044\u308b\u3002 #","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"},{"location":"supplements/trouble_shooting/#_1","text":"","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"},{"location":"supplements/trouble_shooting/#_2","text":"\u4ee5\u4e0b\u304c\u8003\u3048\u3089\u308c\u307e\u3059 \u74b0\u5883\u5909\u6570 LD_PRELOAD \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044 \u521d\u671f\u5316\u6642\u306e\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u306a\u3044 ros2 tracing \u30b3\u30de\u30f3\u30c9\u3067\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u5834\u5408\u3001 ros2 tracing \u30b3\u30de\u30f3\u30c9\u5b9f\u884c \u2192Enter \u3067\u30b9\u30bf\u30fc\u30c8\u3055\u305b\u305f\u5f8c\u3001 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0\u6e08\u307f rclcpp \u3067\u30d3\u30eb\u30c9\u3057\u76f4\u3057\u3057\u3066\u3044\u306a\u3044 caret \u306f ros \u30ec\u30a4\u30e4\u30fc\u306b\u3082\u4e00\u90e8\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3089\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 mkdir -p ~/ros2_ws/src cd ~/ros2_ws git clone https://github.com/tier4/CARET_demos.git src/CARET_demos --recursive source ~/ros2_caret_ws/install/local_setup.bash colcon build --symlink-install","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u306a\u3069\u3001\u53ef\u8996\u5316\u6642\u306b\u554f\u984c\u304c\u3042\u308b"},{"location":"supplements/trouble_shooting/#_3","text":"\u4ee5\u4e0b\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u305a\u30ed\u30b9\u30c8\u3057\u3066\u3044\u308b \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30a8\u30e9\u30fc\u51fa\u529b\u304c\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ babeltrace autoware > /dev/null [ warning ] Tracer discarded 3435 events between [ 15 :05:22.967846940 ] and [ 15 :05:23.025356129 ] in trace UUID 236d978f8bde4cbc9460b0f4e008081, at path: \"autoware/ust/uid/1000/64-bit\" , within stream id 0 , at relative path: \"ros2_12\" . You should consider recording a new trace with larger buffers or with fewer events enabled. [ warning ] Tracer discarded 3910 events between [ 15 :05:22.972199681 ] and [ 15 :05:23.024463592 ] in trace UUID 236d978f8bde4cbc9460b0f4e008081, at path: \"autoware/ust/uid/1000/64-bit\" , within stream id 0 , at relative path: \"ros2_6\" . You should consider recording a new trace with larger buffers or with fewer events enabled. \u4e0a\u8a18\u306e\u3088\u3046\u306b Tracer discarded 3435 events \u3068\u51fa\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u3001\u6e2c\u5b9a\u7d50\u679c\u304c\u6b63\u3057\u304f\u3067\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u306a\u3044\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3066\u3001\u518d\u5ea6\u6e2c\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" \u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002","title":"\u6e2c\u5b9a\u7d50\u679c\u304c\u660e\u3089\u304b\u306b\u304a\u304b\u3057\u3044"},{"location":"supplements/trouble_shooting/#traceresultaanalyzeerror-failed-to-find","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u305f\u60c5\u5831\u304c\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u4e0a\u3067\u898b\u3064\u304b\u3089\u306a\u3044\u969b\u306b\u751f\u3058\u308b\u30a8\u30e9\u30fc\u3067\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304c\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u6307\u3057\u3066\u3044\u307e\u3059\u3002 \u8868\u793a\u3055\u308c\u305f\u30a8\u30e9\u30fc\u6587\u3092\u53c2\u8003\u306b\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u307e\u305f\u306f\u6e2c\u5b9a\u65b9\u6cd5\u3092\u898b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f8b TraceResultAanalyzeError: Failed to find callback_object.node_name: /localization/pose_twist_fusion_filter/ekf_localizer, callback_name: timer_callback_0, period_ns: 19999999, symbol: void (EKFLocalizer::?)() \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u60c5\u5831\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002 node_name\uff1a/localization/pose_twist_fusion_filter/ekf_localizer callback_name\uff1atimer_callback_0 period_ns\uff1a19999999 symbol\uff1avoid (EKFLocalizer::?)()","title":"TraceResultAanalyzeError: Failed to find \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b"},{"location":"supplements/trouble_shooting/#_4","text":"\u4e00\u90e8\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\u73fe\u8c61\u304c\u6b8b\u3063\u3066\u304a\u308a\u3001\u3053\u308c\u304c\u539f\u56e0\u306e\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u73fe\u5728\u3001\u30d5\u30a9\u30fc\u30af\u3057\u305fROS\u30ec\u30a4\u30e4\u30fc\u306b\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u6b63\u3057\u304f\u6e2c\u5b9a\u3055\u308c\u306a\u3044\u554f\u984c\u304c\u898b\u3064\u304b\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306f\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u30d5\u30a9\u30fc\u30af\u3057\u305frclcpp\u304c\u53c2\u7167\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002 \u4e0a\u8a18\u624b\u9806\u3067\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u3001 CMakeLists.txt\u306efind_package\u5f8c\u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 include_directories(SYSTEM /home/autoware/ros2_caret_ws/install/rclcpp/include) \u30d5\u30a9\u30fc\u30af\u3057\u305frclcpp\u3067\u8ffd\u52a0\u3057\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 \u306e\u8868\u5185\u3067\u3001 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9f\u88c5\u65b9\u6cd5\u304c\u300crclcpp\u30d1\u30c3\u30b1\u30fc\u30b8\u65b0\u898f\u8ffd\u52a0\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u9805\u76ee\u304c\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u7279\u5b9a\u306e\u30ce\u30fc\u30c9\u3060\u3051\u6e2c\u5b9a\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u3002"},{"location":"supplements/trouble_shooting/#_5","text":"","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u56f3\u304c\u9014\u4e2d\u3067\u6b62\u307e\u3063\u3066\u3044\u308b\u3002"},{"location":"tutorials/create_architecture/","text":"\u8a55\u4fa1\u6e96\u5099 # CARET\u306f\u3001\u8a55\u4fa1\u3059\u308b\u969b\u306b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u304c\u3001\u4e00\u90e8\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5\u3068\u305d\u306e\u4fee\u6b63\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u306f # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u3001\u5b9f\u969b\u306b\u5b9f\u884c\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u306a\u3069\u3001\u6e2c\u5b9a\u6bce\u306b\u4e0d\u5909\u306a\u9759\u7684\u306a\u60c5\u5831\u306e\u307f\u3092\u542b\u3093\u3060yaml\u5f62\u5f0f\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u306e\u52d5\u7684\u306a\u60c5\u5831\u306f\u542b\u307f\u307e\u305b\u3093\u3002 \u203b \u30c8\u30d4\u30c3\u30af\u540d\u3084\u30bf\u30a4\u30de\u30fc\u306e\u5468\u671f\u306a\u3069\u3001\u5b9f\u884c\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u4e00\u90e8\u542b\u307f\u307e\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u8a18\u8ff0\u3057\u305f\u9759\u7684\u306a\u60c5\u5831\u3068\u3001 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u306e\u6e2c\u5b9a\u7d50\u679c\u3068\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u304c\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4e3b\u306a\u5f79\u5272\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u3092\u5b9a\u7fa9 \u30ce\u30fc\u30c9\u304a\u3088\u3073\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u65b9\u6cd5\uff08\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u306e\u60c5\u5831\uff09\u3092\u8a18\u8ff0 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\uff08\u30ce\u30fc\u30c9\u306e\u60c5\u5831\uff09\u3092\u6307\u5b9a \u3053\u306e\u5185\u3001\u2460\u30d1\u30b9\u306e\u60c5\u5831\u306fpythonAPI\u304b\u3089\u306e\u7de8\u96c6\uff08\u76f4\u63a5yaml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u7de8\u96c6\u3082\u53ef\uff09\u3001\u2461\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u306f\u76f4\u63a5yaml\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u304c\u5fc5\u8981\u3067\u3059\u3002 jupyter \u306e\u8d77\u52d5 # \u672c\u30da\u30fc\u30b8\u3067\u8aac\u660e\u3059\u308b\u96db\u5f62\u306e\u4f5c\u6210\u306a\u3069\u306e\u4f5c\u696d\u306f\u3001python API\u3092\u4f7f\u7528\u3057\u3066\u884c\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u624b\u9806\u3067jupyter\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 mkdir -p ~/ros2_ws/evaluate && cd ~/ros2_ws/evaluate source ~/ros2_caret_ws/install/setup.bash jupyter-lab \u96db\u5f62\u306e\u4f5c\u6210 # \u96db\u5f62\u306fpython\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u751f\u6210\u3067\u304d\u307e\u3059\u3002 from caret_analyze import Architecture # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f arch = Architecture ( 'lttng' , './e2e_sample' ) # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58 arch . export ( 'architecture.yaml' ) # \u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d ! readlink - f ./ architecture . yaml # /home/user/ros2_caret_ws/eval/architecture.yaml \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u306e\u6307\u5b9a # \u751f\u6210\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u8aad\u307f\u8fbc\u3081\u307e\u3059\u3002 from caret_analyze import Architecture, check_procedure arch = Architecture('yaml', './architecture.yaml') \u8aad\u307f\u8fbc\u3093\u3060\u60c5\u5831\u3092\u5143\u306b\u3001\u59cb\u70b9\u30ce\u30fc\u30c9\u304b\u3089\u7d42\u70b9\u30ce\u30fc\u30c9\u307e\u3067\u306e\u30d1\u30b9\u3092\u5168\u63a2\u7d22\u3057\u307e\u3059\u3002 paths = arch . search_paths ( '/sensor_dummy_node' , # \u30d1\u30b9\u306e\u958b\u59cb\u30ce\u30fc\u30c9 '/actuator_dummy_node' ) # \u30d1\u30b9\u306e\u7d42\u4e86\u30ce\u30fc\u30c9 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8907\u96d1\u306a\u5834\u5408\u3001\u63a2\u7d22\u306b\u6642\u9593\u304c\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u306e\u969b\u306f\u3001\u7121\u95a2\u4fc2\u306a\u30ce\u30fc\u30c9\u3084\u30c8\u30d4\u30c3\u30af\u306e\u679d\u5208\u308a\u3084\u3001\u63a2\u7d22\u3059\u308b\u6df1\u3055\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f \u30d1\u30b9\u306e\u63a2\u7d22\u65b9\u6cd5 \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u63a2\u7d22\u3055\u308c\u305f\u30d1\u30b9\u306f\u8907\u6570\u898b\u3064\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u6e2c\u5b9a\u3057\u305f\u3044\u30d1\u30b9\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u63a2\u3059\u305f\u3081\u306b\u3001\u63a2\u7d22\u3057\u305f\u30d1\u30b9\u306e\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 path = paths[0] path.summary.pprint() ---\u4ee5\u4e0b\u51fa\u529b--- path: - message_context: null # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3002 node: /sensor_dummy_node - topic: /topic1 - message_context: publisher_topic_name: /topic2 subscription_topic_name: /topic1 type: callback_chain node: /filter_node - topic: /topic2 - message_context: null node: /message_driven_node - topic: /topic3 - message_context: null node: /timer_driven_node - topic: /topic4 - message_context: null node: /actuator_dummy_node \u6c7a\u5b9a\u3057\u305f\u30d1\u30b9\u306b target_path \u3068\u540d\u524d\u3092\u4ed8\u3051\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 arch.add_path('target_path', path) arch.export('./architecture.yaml') \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3055\u308c\u307e\u3059\u3002 named_paths : - path_name : target_path node_chain : - node_name : /sensor_dummy_node publish_topic_name : /topic1 subscribe_topic_name : UNDEFINED - node_name : /filter_node publish_topic_name : /topic2 subscribe_topic_name : /topic1 - node_name : /message_driven_node publish_topic_name : /topic3 subscribe_topic_name : /topic2 - node_name : /timer_driven_node publish_topic_name : /topic4 subscribe_topic_name : /topic3 - node_name : /actuator_dummy_node publish_topic_name : UNDEFINED subscribe_topic_name : /topic4 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u6307\u5b9a # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u3001\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092subscribe\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u51e6\u7406\u958b\u59cb\u3059\u308b\u6642\u523b\u300d\u304b\u3089\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092publish\u3059\u308b\u6642\u523b\u300d\u307e\u3067\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u306b\u3082\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3001\u7d71\u4e00\u7684\u306a\u624b\u6cd5\u3067\u306e\u6e2c\u5b9a\u306f\u56f0\u96e3\u3067\u3059\u3002 CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4e3b\u306b message_context \u3068\u3044\u3046\u9805\u76ee\u3068\u3057\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4fee\u6b63\u5bfe\u8c61\u306e\u78ba\u8a8d # \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001 path.verify() \u3092\u5b9f\u884c\u3057\u3001\u30d1\u30b9\u306b\u542b\u307e\u308c\u308b\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u306e\u60c5\u5831\u304c\u4e0d\u8db3\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002 from caret_analyze import Architecture arch = Architecture ( 'yaml' , './architecture.yaml' ) path = arch . get_path ( 'target_path' ) path . verify () --- \u4ee5\u4e0b\u51fa\u529b --- WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/message_driven_node' ) message_context : null node : / message_driven_node publish_topic_name : / topic3 subscribe_topic_name : / topic2 WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/timer_driven_node' ) message_context : null node : / timer_driven_node publish_topic_name : / topic4 subscribe_topic_name : / topic3 \u4e0a\u8a18\u306f\u3001\u4ee5\u4e0b\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u3068\u8b66\u544a\u3057\u3066\u3044\u307e\u3059 /message_driven_node \u30ce\u30fc\u30c9\u3001 /topic2 \u5165\u529b\u304b\u3089 /topic3 \u51fa\u529b\u306e\u30d1\u30b9 /timer_driven_node \u30ce\u30fc\u30c9\u3001 /topic3 \u5165\u529b\u304b\u3089 /topic4 \u51fa\u529b\u306e\u30d1\u30b9 \u8b66\u544a\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u306b\u3064\u3044\u3066\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u5bfe\u5fdc\u3059\u308bmessage_context\u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u6307\u5b9a # \u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 # /message_driven_node\u5185\u306e\u9805\u76ee message_contexts : - context_type : use_latest_message # UNDEFINED\u304b\u3089use_latest_message\u3078\u5909\u66f4 subscription_topic_name : /topic2 publisher_topic_name : /topic3 # /message_driven_node\u5185\u306e\u9805\u76ee message_contexts :\u3000 - context_type : use_latest_message # UNDEFINED\u304b\u3089use_latest_message\u3078\u5909\u66f4 subscription_topic_name : /topic3 publisher_topic_name : /topic4 \u4fee\u6b63\u7d50\u679c\u306e\u78ba\u8a8d # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3092\u4e0e\u3048\u305f\u5f8c\u3001\u8b66\u544a\u304c\u3067\u306a\u304f\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 from caret_analyze import Architecture arch = Architecture ( 'yaml' , './architecture.yaml' ) path = arch . get_path ( 'target_path' ) path . verify () \u8b66\u544a\u304c\u51fa\u306a\u3051\u308c\u3070\u3001\u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u7b97\u51fa\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u8b66\u544a\u304c\u51fa\u308b\u7b87\u6240\u306f\u3001\u7b97\u51fa\u306b\u5fc5\u8981\u306a\u60c5\u5831\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u6700\u7d42\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002 TODO: \u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3002","title":"\u8a55\u4fa1\u6e96\u5099"},{"location":"tutorials/create_architecture/#_1","text":"CARET\u306f\u3001\u8a55\u4fa1\u3059\u308b\u969b\u306b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u304c\u5fc5\u8981\u3067\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u304c\u3001\u4e00\u90e8\u624b\u4f5c\u696d\u3067\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5\u3068\u305d\u306e\u4fee\u6b63\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u8a55\u4fa1\u6e96\u5099"},{"location":"tutorials/create_architecture/#_2","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u306f\u3001\u5b9f\u969b\u306b\u5b9f\u884c\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u306a\u3069\u3001\u6e2c\u5b9a\u6bce\u306b\u4e0d\u5909\u306a\u9759\u7684\u306a\u60c5\u5831\u306e\u307f\u3092\u542b\u3093\u3060yaml\u5f62\u5f0f\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u306e\u52d5\u7684\u306a\u60c5\u5831\u306f\u542b\u307f\u307e\u305b\u3093\u3002 \u203b \u30c8\u30d4\u30c3\u30af\u540d\u3084\u30bf\u30a4\u30de\u30fc\u306e\u5468\u671f\u306a\u3069\u3001\u5b9f\u884c\u6642\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u4e00\u90e8\u542b\u307f\u307e\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u8a18\u8ff0\u3057\u305f\u9759\u7684\u306a\u60c5\u5831\u3068\u3001 \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u306e\u6e2c\u5b9a\u7d50\u679c\u3068\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u304c\u884c\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4e3b\u306a\u5f79\u5272\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u3092\u5b9a\u7fa9 \u30ce\u30fc\u30c9\u304a\u3088\u3073\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u65b9\u6cd5\uff08\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u306e\u60c5\u5831\uff09\u3092\u8a18\u8ff0 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\uff08\u30ce\u30fc\u30c9\u306e\u60c5\u5831\uff09\u3092\u6307\u5b9a \u3053\u306e\u5185\u3001\u2460\u30d1\u30b9\u306e\u60c5\u5831\u306fpythonAPI\u304b\u3089\u306e\u7de8\u96c6\uff08\u76f4\u63a5yaml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u7de8\u96c6\u3082\u53ef\uff09\u3001\u2461\u30ce\u30fc\u30c9\u306e\u60c5\u5831\u306f\u76f4\u63a5yaml\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u304c\u5fc5\u8981\u3067\u3059\u3002","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u306f"},{"location":"tutorials/create_architecture/#jupyter","text":"\u672c\u30da\u30fc\u30b8\u3067\u8aac\u660e\u3059\u308b\u96db\u5f62\u306e\u4f5c\u6210\u306a\u3069\u306e\u4f5c\u696d\u306f\u3001python API\u3092\u4f7f\u7528\u3057\u3066\u884c\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u624b\u9806\u3067jupyter\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 mkdir -p ~/ros2_ws/evaluate && cd ~/ros2_ws/evaluate source ~/ros2_caret_ws/install/setup.bash jupyter-lab","title":"jupyter \u306e\u8d77\u52d5"},{"location":"tutorials/create_architecture/#_3","text":"\u96db\u5f62\u306fpython\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u751f\u6210\u3067\u304d\u307e\u3059\u3002 from caret_analyze import Architecture # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f arch = Architecture ( 'lttng' , './e2e_sample' ) # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58 arch . export ( 'architecture.yaml' ) # \u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d ! readlink - f ./ architecture . yaml # /home/user/ros2_caret_ws/eval/architecture.yaml","title":"\u96db\u5f62\u306e\u4f5c\u6210"},{"location":"tutorials/create_architecture/#_4","text":"\u751f\u6210\u3057\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u8aad\u307f\u8fbc\u3081\u307e\u3059\u3002 from caret_analyze import Architecture, check_procedure arch = Architecture('yaml', './architecture.yaml') \u8aad\u307f\u8fbc\u3093\u3060\u60c5\u5831\u3092\u5143\u306b\u3001\u59cb\u70b9\u30ce\u30fc\u30c9\u304b\u3089\u7d42\u70b9\u30ce\u30fc\u30c9\u307e\u3067\u306e\u30d1\u30b9\u3092\u5168\u63a2\u7d22\u3057\u307e\u3059\u3002 paths = arch . search_paths ( '/sensor_dummy_node' , # \u30d1\u30b9\u306e\u958b\u59cb\u30ce\u30fc\u30c9 '/actuator_dummy_node' ) # \u30d1\u30b9\u306e\u7d42\u4e86\u30ce\u30fc\u30c9 \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8907\u96d1\u306a\u5834\u5408\u3001\u63a2\u7d22\u306b\u6642\u9593\u304c\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u306e\u969b\u306f\u3001\u7121\u95a2\u4fc2\u306a\u30ce\u30fc\u30c9\u3084\u30c8\u30d4\u30c3\u30af\u306e\u679d\u5208\u308a\u3084\u3001\u63a2\u7d22\u3059\u308b\u6df1\u3055\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u8a73\u7d30\u306f \u30d1\u30b9\u306e\u63a2\u7d22\u65b9\u6cd5 \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u63a2\u7d22\u3055\u308c\u305f\u30d1\u30b9\u306f\u8907\u6570\u898b\u3064\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u6e2c\u5b9a\u3057\u305f\u3044\u30d1\u30b9\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u63a2\u3059\u305f\u3081\u306b\u3001\u63a2\u7d22\u3057\u305f\u30d1\u30b9\u306e\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 path = paths[0] path.summary.pprint() ---\u4ee5\u4e0b\u51fa\u529b--- path: - message_context: null # \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3002 node: /sensor_dummy_node - topic: /topic1 - message_context: publisher_topic_name: /topic2 subscription_topic_name: /topic1 type: callback_chain node: /filter_node - topic: /topic2 - message_context: null node: /message_driven_node - topic: /topic3 - message_context: null node: /timer_driven_node - topic: /topic4 - message_context: null node: /actuator_dummy_node \u6c7a\u5b9a\u3057\u305f\u30d1\u30b9\u306b target_path \u3068\u540d\u524d\u3092\u4ed8\u3051\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002 arch.add_path('target_path', path) arch.export('./architecture.yaml') \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8f09\u3055\u308c\u307e\u3059\u3002 named_paths : - path_name : target_path node_chain : - node_name : /sensor_dummy_node publish_topic_name : /topic1 subscribe_topic_name : UNDEFINED - node_name : /filter_node publish_topic_name : /topic2 subscribe_topic_name : /topic1 - node_name : /message_driven_node publish_topic_name : /topic3 subscribe_topic_name : /topic2 - node_name : /timer_driven_node publish_topic_name : /topic4 subscribe_topic_name : /topic3 - node_name : /actuator_dummy_node publish_topic_name : UNDEFINED subscribe_topic_name : /topic4","title":"\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30d1\u30b9\u306e\u6307\u5b9a"},{"location":"tutorials/create_architecture/#_5","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u3001\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092subscribe\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u51e6\u7406\u958b\u59cb\u3059\u308b\u6642\u523b\u300d\u304b\u3089\u300c\u30ce\u30fc\u30c9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092publish\u3059\u308b\u6642\u523b\u300d\u307e\u3067\u3068\u3057\u3066\u3044\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306f\u30ce\u30fc\u30c9\u306e\u5b9f\u88c5\u306b\u3082\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3001\u7d71\u4e00\u7684\u306a\u624b\u6cd5\u3067\u306e\u6e2c\u5b9a\u306f\u56f0\u96e3\u3067\u3059\u3002 CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4e3b\u306b message_context \u3068\u3044\u3046\u9805\u76ee\u3068\u3057\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u6307\u5b9a"},{"location":"tutorials/create_architecture/#_6","text":"\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001 path.verify() \u3092\u5b9f\u884c\u3057\u3001\u30d1\u30b9\u306b\u542b\u307e\u308c\u308b\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u306e\u60c5\u5831\u304c\u4e0d\u8db3\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002 from caret_analyze import Architecture arch = Architecture ( 'yaml' , './architecture.yaml' ) path = arch . get_path ( 'target_path' ) path . verify () --- \u4ee5\u4e0b\u51fa\u529b --- WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/message_driven_node' ) message_context : null node : / message_driven_node publish_topic_name : / topic3 subscribe_topic_name : / topic2 WARNING : 2021 - 12 - 20 19 : 14 : 03 | Detected \"message_contest is None\" . Correct these node_path definitions . To see node definition and procedure , execute : >> check_procedure ( 'yaml' , '/path/to/yaml' , arch , '/timer_driven_node' ) message_context : null node : / timer_driven_node publish_topic_name : / topic4 subscribe_topic_name : / topic3 \u4e0a\u8a18\u306f\u3001\u4ee5\u4e0b\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u3068\u8b66\u544a\u3057\u3066\u3044\u307e\u3059 /message_driven_node \u30ce\u30fc\u30c9\u3001 /topic2 \u5165\u529b\u304b\u3089 /topic3 \u51fa\u529b\u306e\u30d1\u30b9 /timer_driven_node \u30ce\u30fc\u30c9\u3001 /topic3 \u5165\u529b\u304b\u3089 /topic4 \u51fa\u529b\u306e\u30d1\u30b9 \u8b66\u544a\u3055\u308c\u305f\u30ce\u30fc\u30c9\u306e\u30d1\u30b9\u306b\u3064\u3044\u3066\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u5bfe\u5fdc\u3059\u308bmessage_context\u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002","title":"\u4fee\u6b63\u5bfe\u8c61\u306e\u78ba\u8a8d"},{"location":"tutorials/create_architecture/#_7","text":"\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 # /message_driven_node\u5185\u306e\u9805\u76ee message_contexts : - context_type : use_latest_message # UNDEFINED\u304b\u3089use_latest_message\u3078\u5909\u66f4 subscription_topic_name : /topic2 publisher_topic_name : /topic3 # /message_driven_node\u5185\u306e\u9805\u76ee message_contexts :\u3000 - context_type : use_latest_message # UNDEFINED\u304b\u3089use_latest_message\u3078\u5909\u66f4 subscription_topic_name : /topic3 publisher_topic_name : /topic4","title":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u7b97\u51fa\u65b9\u6cd5\u6307\u5b9a"},{"location":"tutorials/create_architecture/#_8","text":"\u30ce\u30fc\u30c9\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u5b9a\u7fa9\u3092\u4e0e\u3048\u305f\u5f8c\u3001\u8b66\u544a\u304c\u3067\u306a\u304f\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 from caret_analyze import Architecture arch = Architecture ( 'yaml' , './architecture.yaml' ) path = arch . get_path ( 'target_path' ) path . verify () \u8b66\u544a\u304c\u51fa\u306a\u3051\u308c\u3070\u3001\u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u7b97\u51fa\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u8b66\u544a\u304c\u51fa\u308b\u7b87\u6240\u306f\u3001\u7b97\u51fa\u306b\u5fc5\u8981\u306a\u60c5\u5831\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u6700\u7d42\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002 TODO: \u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3002","title":"\u4fee\u6b63\u7d50\u679c\u306e\u78ba\u8a8d"},{"location":"tutorials/measurement/","text":"\u6e2c\u5b9a # \u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f8b\u306b\u3001\u30c4\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u306e\u30ea\u30dd\u30b8\u30c8\u30ea https://github.com/tier4/CARET_demos.git \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30eb\u30c9 # caret \u306e\u74b0\u5883\u5909\u6570\u3092 /opt/ros/galactic/setup.bash \u306e\u5f8c\u306b\u8a2d\u5b9a\u3057\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 caret \u5c0e\u5165\u524d\u306b\u30d3\u30eb\u30c9\u6e08\u307f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u3001\u518d\u5ea6\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 mkdir -p ~/ros2_ws/src cd ~/ros2_ws git clone https://github.com/tier4/CARET_demos.git src/CARET_demos --recursive source ~/ros2_caret_ws/install/local_setup.bash colcon build --symlink-install --packages-up-to caret_demos \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u306a\u7406\u7531 caret \u306f rclcpp \u306e\u30d8\u30c3\u30c0\u30fc\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u88c5\u5185\u306b\u3082\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3055\u308c\u305f rclcpp \u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u5ea6\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002 \u5f93\u3063\u3066\u3001 apt \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f demo_nodes_cpp \u306a\u3069\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6e2c\u5b9a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\u3002 \u6e2c\u5b9a\u3059\u308b\u306b\u306f\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30d3\u30eb\u30c9\u3057\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u6e2c\u5b9a # LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb # CARET\u306f\u6e2c\u5b9a\u306e\u305f\u3081\u306bLTTng\u3092\u5229\u7528\u3057\u3066\u304a\u308a\u3001LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u3001ros2 tracing\u306b\u3088\u3063\u3066\u7528\u610f\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u7d4c\u7531\u3067LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 source /opt/ros/galactic/setup.bash # \u30c8\u30ec\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u5148\u3092\u8a2d\u5b9a\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f ~/.ros/tracing\u3002 mkdir -p ~/ros2_ws/evaluate export ROS_TRACE_DIR = ~/ros2_ws/evaluate ros2 trace -s e2e_sample -k -u \"ros2*\" # Enter \u3092\u62bc\u3057\u3066\u6e2c\u5b9a\u958b\u59cb # -s \u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u540d\u3002 # \u4e0a\u8a18\u306e\u4f8b\u3067\u306f~/ros_ws/evaluate/e2e_sample\u306b\u6e2c\u5b9a\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002 \u5225\u9014\u30bf\u30fc\u30df\u30ca\u30eb\u3067LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u305b\u305a\u306b\u3001Launch\u30d5\u30a1\u30a4\u30eb\u5185\u3067LTTng\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u3002 LTTng \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30fb\u6e2c\u5b9a # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u3001caret_ws \u914d\u4e0b\u306e rclcpp \u3092\u4f7f\u308f\u305b\u308b\u305f\u3081\u3001opt \u914d\u4e0b\u306e\u5f8c\u306b caret_ws \u914d\u4e0b\u306e setup.bash \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 source /opt/ros/galactic/setup.bash source ~/ros2_caret_ws/install/local_setup.bash source ~/ros2_ws/install/local_setup.bash \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3057\u305f rclcpp \u304c\u4f7f\u308f\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 ldd ./build/caret_demos/end_to_end_sample | grep rclcpp # librclcpp.so => /home/user_name/ros2_caret_ws/install/rclcpp/lib/librclcpp.so \u30d5\u30c3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001 LD_PRELOAD \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 # \u30d5\u30c3\u30af\u3067\u8ffd\u52a0\u3055\u308c\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u6709\u52b9\u5316 export LD_PRELOAD = $( readlink -f ~/ros2_caret_ws/install/caret_trace/lib/libcaret.so ) \u4e0d\u8981\u306a\u30ce\u30fc\u30c9\u3084\u30c8\u30d4\u30c3\u30af\u3092\u6e2c\u5b9a\u5bfe\u8c61\u304b\u3089\u9664\u5916\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 \u3092\u53c2\u7167\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" ros2 launch caret_demos end_to_end_sample.launch.py ^C # \u6570\u79d2\u5f8c\u3001 Ctrl+C \u3067\u7d42\u4e86 [ WARNING ] [ launch ] : user interrupted with ctrl-c ( SIGINT ) [ end_to_end_sample-1 ] [ INFO ] [ 1631481246 .160958444 ] [ rclcpp ] : signal_handler ( signal_value = 2 ) [ INFO ] [ end_to_end_sample-1 ] : process has finished cleanly [ pid 722356 ] \u7d42\u4e86\u3059\u308b\u969b\u306e\u9806\u756a\u306b\u6307\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ros2 trace \u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306f Enter \u3092\u518d\u5ea6\u62bc\u3057\u3066\u6e2c\u5b9a\u3092\u7d42\u4e86\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u6e2c\u5b9a\u7d50\u679c\u306e\u78ba\u8a8d # \u8a18\u9332\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 # \u4ee5\u4e0b\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d $ babeltrace ~/ros2_ws/evaluate/e2e_sample/ | cut -d ' ' -f 4 | sort -u ros2:callback_end: ros2:callback_start: ros2_caret:add_callback_group_static_executor: ros2_caret:callback_group_add_service: ros2_caret:callback_group_add_subscription: ros2_caret:callback_group_add_timer: ros2_caret:construct_static_executor: ros2_caret:dds_bind_addr_to_stamp: ros2_caret:dds_write: ros2_caret:rmw_implementation: ros2:dispatch_subscription_callback: ros2:rclcpp_callback_register: ros2:rclcpp_publish: ros2:rclcpp_service_callback_added: ros2:rclcpp_subscription_callback_added: ros2:rclcpp_subscription_init: ros2:rclcpp_timer_callback_added: ros2:rclcpp_timer_link_node: ros2:rcl_init: ros2:rcl_node_init: ros2:rcl_publish: ros2:rcl_publisher_init: ros2:rcl_service_init: ros2:rcl_subscription_init: ros2:rcl_timer_init: \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u554f\u984c\u304c\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u306a\u3044\u5834\u5408\u306b\u306f\u3001 Tracer discarded \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408 \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 Tracer discarded \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408 # babeltrace \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8b66\u544a\u304c\u73fe\u308c\u308b\u5834\u5408\u3001 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u30c9\u30ed\u30c3\u30d7\u304c\u751f\u3058\u3066\u304a\u308a\u3001\u89e3\u6790\u304c\u6b63\u3057\u304f\u884c\u3048\u307e\u305b\u3093\u3002 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3057\u3001\u8b66\u544a\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ warning ] Tracer discarded 328 events between [ 10 :46:15.566916889 ] and [ 10 :46:15.620323777 ] in trace UUID 353a72bc12d4bcc85c9158dd8f88ef9, at path: \"end_to_end_sample/ust/uid/10368/64-bit\" , within stream id 0 , at relative path: \"ros2_3\" . You should consider recording a new trace with larger buffers or with fewer events enabled.","title":"\u6e2c\u5b9a"},{"location":"tutorials/measurement/#_1","text":"\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f8b\u306b\u3001\u30c4\u30fc\u30eb\u306e\u4f7f\u3044\u65b9\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u306e\u30ea\u30dd\u30b8\u30c8\u30ea https://github.com/tier4/CARET_demos.git","title":"\u6e2c\u5b9a"},{"location":"tutorials/measurement/#_2","text":"caret \u306e\u74b0\u5883\u5909\u6570\u3092 /opt/ros/galactic/setup.bash \u306e\u5f8c\u306b\u8a2d\u5b9a\u3057\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002 caret \u5c0e\u5165\u524d\u306b\u30d3\u30eb\u30c9\u6e08\u307f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u3001\u518d\u5ea6\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 mkdir -p ~/ros2_ws/src cd ~/ros2_ws git clone https://github.com/tier4/CARET_demos.git src/CARET_demos --recursive source ~/ros2_caret_ws/install/local_setup.bash colcon build --symlink-install --packages-up-to caret_demos \u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u306a\u7406\u7531 caret \u306f rclcpp \u306e\u30d8\u30c3\u30c0\u30fc\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u88c5\u5185\u306b\u3082\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3055\u308c\u305f rclcpp \u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001\u6e2c\u5b9a\u5bfe\u8c61\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u5ea6\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u6709\u308a\u307e\u3059\u3002 \u5f93\u3063\u3066\u3001 apt \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f demo_nodes_cpp \u306a\u3069\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6e2c\u5b9a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\u3002 \u6e2c\u5b9a\u3059\u308b\u306b\u306f\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30d3\u30eb\u30c9\u3057\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30eb\u30c9"},{"location":"tutorials/measurement/#_3","text":"","title":"\u6e2c\u5b9a"},{"location":"tutorials/measurement/#lttng","text":"CARET\u306f\u6e2c\u5b9a\u306e\u305f\u3081\u306bLTTng\u3092\u5229\u7528\u3057\u3066\u304a\u308a\u3001LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u3001ros2 tracing\u306b\u3088\u3063\u3066\u7528\u610f\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u7d4c\u7531\u3067LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 source /opt/ros/galactic/setup.bash # \u30c8\u30ec\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u5148\u3092\u8a2d\u5b9a\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f ~/.ros/tracing\u3002 mkdir -p ~/ros2_ws/evaluate export ROS_TRACE_DIR = ~/ros2_ws/evaluate ros2 trace -s e2e_sample -k -u \"ros2*\" # Enter \u3092\u62bc\u3057\u3066\u6e2c\u5b9a\u958b\u59cb # -s \u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u540d\u3002 # \u4e0a\u8a18\u306e\u4f8b\u3067\u306f~/ros_ws/evaluate/e2e_sample\u306b\u6e2c\u5b9a\u7d50\u679c\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002 \u5225\u9014\u30bf\u30fc\u30df\u30ca\u30eb\u3067LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u305b\u305a\u306b\u3001Launch\u30d5\u30a1\u30a4\u30eb\u5185\u3067LTTng\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u3002 LTTng \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"LTTng\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u958b\u59cb"},{"location":"tutorials/measurement/#_4","text":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u3001caret_ws \u914d\u4e0b\u306e rclcpp \u3092\u4f7f\u308f\u305b\u308b\u305f\u3081\u3001opt \u914d\u4e0b\u306e\u5f8c\u306b caret_ws \u914d\u4e0b\u306e setup.bash \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 source /opt/ros/galactic/setup.bash source ~/ros2_caret_ws/install/local_setup.bash source ~/ros2_ws/install/local_setup.bash \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3057\u305f rclcpp \u304c\u4f7f\u308f\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 ldd ./build/caret_demos/end_to_end_sample | grep rclcpp # librclcpp.so => /home/user_name/ros2_caret_ws/install/rclcpp/lib/librclcpp.so \u30d5\u30c3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001 LD_PRELOAD \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 # \u30d5\u30c3\u30af\u3067\u8ffd\u52a0\u3055\u308c\u308b\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u306e\u6709\u52b9\u5316 export LD_PRELOAD = $( readlink -f ~/ros2_caret_ws/install/caret_trace/lib/libcaret.so ) \u4e0d\u8981\u306a\u30ce\u30fc\u30c9\u3084\u30c8\u30d4\u30c3\u30af\u3092\u6e2c\u5b9a\u5bfe\u8c61\u304b\u3089\u9664\u5916\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f\u3001 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0 \u3092\u53c2\u7167\u3002 export CARET_IGNORE_NODES = \"/rviz*\" export CARET_IGNORE_TOPICS = \"/clock:/parameter_events\" ros2 launch caret_demos end_to_end_sample.launch.py ^C # \u6570\u79d2\u5f8c\u3001 Ctrl+C \u3067\u7d42\u4e86 [ WARNING ] [ launch ] : user interrupted with ctrl-c ( SIGINT ) [ end_to_end_sample-1 ] [ INFO ] [ 1631481246 .160958444 ] [ rclcpp ] : signal_handler ( signal_value = 2 ) [ INFO ] [ end_to_end_sample-1 ] : process has finished cleanly [ pid 722356 ] \u7d42\u4e86\u3059\u308b\u969b\u306e\u9806\u756a\u306b\u6307\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ros2 trace \u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306f Enter \u3092\u518d\u5ea6\u62bc\u3057\u3066\u6e2c\u5b9a\u3092\u7d42\u4e86\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30fb\u6e2c\u5b9a"},{"location":"tutorials/measurement/#_5","text":"\u8a18\u9332\u3055\u308c\u305f\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 # \u4ee5\u4e0b\u306e\u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d $ babeltrace ~/ros2_ws/evaluate/e2e_sample/ | cut -d ' ' -f 4 | sort -u ros2:callback_end: ros2:callback_start: ros2_caret:add_callback_group_static_executor: ros2_caret:callback_group_add_service: ros2_caret:callback_group_add_subscription: ros2_caret:callback_group_add_timer: ros2_caret:construct_static_executor: ros2_caret:dds_bind_addr_to_stamp: ros2_caret:dds_write: ros2_caret:rmw_implementation: ros2:dispatch_subscription_callback: ros2:rclcpp_callback_register: ros2:rclcpp_publish: ros2:rclcpp_service_callback_added: ros2:rclcpp_subscription_callback_added: ros2:rclcpp_subscription_init: ros2:rclcpp_timer_callback_added: ros2:rclcpp_timer_link_node: ros2:rcl_init: ros2:rcl_node_init: ros2:rcl_publish: ros2:rcl_publisher_init: ros2:rcl_service_init: ros2:rcl_subscription_init: ros2:rcl_timer_init: \u30c8\u30ec\u30fc\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u554f\u984c\u304c\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u4fdd\u5b58\u304c\u9593\u306b\u5408\u308f\u306a\u3044\u5834\u5408\u306b\u306f\u3001 Tracer discarded \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408 \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u6e2c\u5b9a\u7d50\u679c\u306e\u78ba\u8a8d"},{"location":"tutorials/measurement/#tracer-discarded","text":"babeltrace \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8b66\u544a\u304c\u73fe\u308c\u308b\u5834\u5408\u3001 \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u30c9\u30ed\u30c3\u30d7\u304c\u751f\u3058\u3066\u304a\u308a\u3001\u89e3\u6790\u304c\u6b63\u3057\u304f\u884c\u3048\u307e\u305b\u3093\u3002 \u30c8\u30ec\u30fc\u30b9\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3057\u3001\u8b66\u544a\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ warning ] Tracer discarded 328 events between [ 10 :46:15.566916889 ] and [ 10 :46:15.620323777 ] in trace UUID 353a72bc12d4bcc85c9158dd8f88ef9, at path: \"end_to_end_sample/ust/uid/10368/64-bit\" , within stream id 0 , at relative path: \"ros2_3\" . You should consider recording a new trace with larger buffers or with fewer events enabled.","title":"Tracer discarded \u3068\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408"},{"location":"tutorials/performance_evaluation/","text":"\u6027\u80fd\u8a55\u4fa1 # \u6e2c\u5b9a\u7d50\u679c\u306e\u53ef\u8996\u5316\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u672c\u30da\u30fc\u30b8\u306e\u8aac\u660e\u306fjupyter\u4e0a\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067 jupyter \u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 cd ~/ros2_ws/evaluate source ~/ros2_caret_ws/install/setup.bash jupyter-lab CARET\u304c\u5099\u3048\u3066\u3044\u308b\u53ef\u8996\u5316\u306b\u306f\u3001bokeh\u3092\u4f7f\u7528\u3057\u305f\u3082\u306e\u304c\u6709\u308a\u307e\u3059\u3002 jupyter\u4e0a\u3067\u8868\u793a\u3055\u305b\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 from bokeh.plotting import output_notebook output_notebook () \u6e2c\u5b9a\u7d50\u679c\u306e\u8aad\u307f\u8fbc\u307f # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002 from caret_analyze import Architecture, Application, Lttng # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f arch = Architecture('yaml', './architecture.yaml') # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u8aad\u307f\u8fbc\u307f lttng = Lttng('./e2e_sample') # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u60c5\u5831\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u7d50\u5408 app = Application(arch, lttng) Application\u30af\u30e9\u30b9\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u7b49\u306e\u60c5\u5831\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3061\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u60c5\u5831\u3082\u6301\u3063\u305f\u30af\u30e9\u30b9\u3067\u3059\u3002 app\u7d4c\u7531\u3067\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u3001\u69d8\u3005\u306a\u60c5\u5831\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002 \u57fa\u672c\u7684\u306aAPI\u306e\u8aac\u660e # app\u304b\u3089\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5b9f\u884c\u6642\u9593\u3092\u53d6\u5f97\u3059\u308bAPI\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 # \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u6e2c\u5b9a\u7d50\u679c\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97 callback = app . get_callback ( '/timer_driven_node/callback_0' ) # \u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306e\u53d6\u5f97 t , latency_ns = callback . to_timeseries () # \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u306e\u53d6\u5f97 bins , latency_ns = callback . to_histogram () callback \u306e\u307b\u304b\u3001 communication \u306a\u3069\u3082\u540c\u69d8\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 callback.to_dataframe() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5143\u30c7\u30fc\u30bf\u3092 pandas.DataFrame \u578b\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u53ef\u8996\u5316 # CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u53ef\u8996\u5316\u3092\u6a19\u6e96\u3067\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u6e2c\u5b9a\u7d50\u679c\u3092\u7b97\u51fa\u3059\u308b\u4e0a\u3067\u57fa\u672c\u3068\u306a\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u53ef\u8996\u5316\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 from caret_analyze.plot import message_flow path = app . get_path ( 'target_path' ) message_flow ( path ) \u6b63\u5e38\u306b\u6e2c\u5b9a\u3055\u308c\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u56f3\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u56f3\u306f\u6a2a\u8ef8\u304c\u6642\u9593\u3001\u7e26\u8ef8\u304c\u4e0a\u304b\u3089\u4e0b\u3078 taget_path \u306b\u306a\u3063\u3066\u304a\u308a\u3001\u5404\u7dda\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u77e9\u5f62\u3084\u7dda\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u91cd\u306d\u308b\u3068\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3084\u30e1\u30c3\u30bb\u30fc\u30b8\u3054\u3068\u306e\u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u4ed6\u306b\u3082\u3001\u3044\u304f\u3064\u304b\u306e\u53ef\u8996\u5316\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f \u30ae\u30e3\u30e9\u30ea\u30fc \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002","title":"\u6027\u80fd\u8a55\u4fa1"},{"location":"tutorials/performance_evaluation/#_1","text":"\u6e2c\u5b9a\u7d50\u679c\u306e\u53ef\u8996\u5316\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u672c\u30da\u30fc\u30b8\u306e\u8aac\u660e\u306fjupyter\u4e0a\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067 jupyter \u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 cd ~/ros2_ws/evaluate source ~/ros2_caret_ws/install/setup.bash jupyter-lab CARET\u304c\u5099\u3048\u3066\u3044\u308b\u53ef\u8996\u5316\u306b\u306f\u3001bokeh\u3092\u4f7f\u7528\u3057\u305f\u3082\u306e\u304c\u6709\u308a\u307e\u3059\u3002 jupyter\u4e0a\u3067\u8868\u793a\u3055\u305b\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 from bokeh.plotting import output_notebook output_notebook ()","title":"\u6027\u80fd\u8a55\u4fa1"},{"location":"tutorials/performance_evaluation/#_2","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002 from caret_analyze import Architecture, Application, Lttng # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u304b\u3089\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f arch = Architecture('yaml', './architecture.yaml') # \u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u8aad\u307f\u8fbc\u307f lttng = Lttng('./e2e_sample') # \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u60c5\u5831\u3068\u30c8\u30ec\u30fc\u30b9\u7d50\u679c\u306e\u7d50\u5408 app = Application(arch, lttng) Application\u30af\u30e9\u30b9\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u7b49\u306e\u60c5\u5831\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3061\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u60c5\u5831\u3082\u6301\u3063\u305f\u30af\u30e9\u30b9\u3067\u3059\u3002 app\u7d4c\u7531\u3067\u901a\u4fe1\u30ec\u30a4\u30c6\u30f3\u30b7\u3084\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u306a\u3069\u3001\u69d8\u3005\u306a\u60c5\u5831\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002","title":"\u6e2c\u5b9a\u7d50\u679c\u306e\u8aad\u307f\u8fbc\u307f"},{"location":"tutorials/performance_evaluation/#api","text":"app\u304b\u3089\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5b9f\u884c\u6642\u9593\u3092\u53d6\u5f97\u3059\u308bAPI\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 # \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u6e2c\u5b9a\u7d50\u679c\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97 callback = app . get_callback ( '/timer_driven_node/callback_0' ) # \u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306e\u53d6\u5f97 t , latency_ns = callback . to_timeseries () # \u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u306e\u53d6\u5f97 bins , latency_ns = callback . to_histogram () callback \u306e\u307b\u304b\u3001 communication \u306a\u3069\u3082\u540c\u69d8\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 callback.to_dataframe() \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5143\u30c7\u30fc\u30bf\u3092 pandas.DataFrame \u578b\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002","title":"\u57fa\u672c\u7684\u306aAPI\u306e\u8aac\u660e"},{"location":"tutorials/performance_evaluation/#_3","text":"CARET\u3067\u306f\u3044\u304f\u3064\u304b\u306e\u53ef\u8996\u5316\u3092\u6a19\u6e96\u3067\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u6e2c\u5b9a\u7d50\u679c\u3092\u7b97\u51fa\u3059\u308b\u4e0a\u3067\u57fa\u672c\u3068\u306a\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u53ef\u8996\u5316\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 from caret_analyze.plot import message_flow path = app . get_path ( 'target_path' ) message_flow ( path ) \u6b63\u5e38\u306b\u6e2c\u5b9a\u3055\u308c\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u56f3\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u56f3\u306f\u6a2a\u8ef8\u304c\u6642\u9593\u3001\u7e26\u8ef8\u304c\u4e0a\u304b\u3089\u4e0b\u3078 taget_path \u306b\u306a\u3063\u3066\u304a\u308a\u3001\u5404\u7dda\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6d41\u308c\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30b0\u30ec\u30fc\u306e\u77e9\u5f62\u306f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u77e9\u5f62\u3084\u7dda\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u91cd\u306d\u308b\u3068\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5b9f\u884c\u6642\u9593\u3084\u30e1\u30c3\u30bb\u30fc\u30b8\u3054\u3068\u306e\u30d1\u30b9\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u4ed6\u306b\u3082\u3001\u3044\u304f\u3064\u304b\u306e\u53ef\u8996\u5316\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f \u30ae\u30e3\u30e9\u30ea\u30fc \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30ed\u30fc\u306e\u53ef\u8996\u5316"},{"location":"tutorials/setup/","text":"\u74b0\u5883\u69cb\u7bc9 # \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # LTTng \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u8a73\u7d30\u306f LTTng \u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3002 sudo apt-add-repository ppa:lttng/stable-2.12 sudo apt-get update sudo apt-get install lttng-tools lttng-modules-dkms liblttng-ust-dev sudo apt-get install python3-babeltrace python3-lttng ROS 2 galactic \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002 \u8a73\u7d30\u306f ROS2 \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3002 sudo apt update && sudo apt install -y \\ build-essential \\ cmake \\ git \\ python3-colcon-common-extensions \\ python3-flake8 \\ python3-pip \\ python3-pytest-cov \\ python3-rosdep \\ python3-setuptools \\ python3-vcstool \\ wget python3 -m pip install -U \\ flake8-blind-except \\ flake8-builtins \\ flake8-class-newline \\ flake8-comprehensions \\ flake8-deprecated \\ flake8-docstrings \\ flake8-import-order \\ flake8-quotes \\ pytest-repeat \\ pytest-rerunfailures \\ pytest \\ setuptools \\ colorcet sudo apt install ros-galactic-desktop ros2 trace \u95a2\u9023\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y \\ ros-galactic-ros2trace \\ ros-galactic-ros2trace-analysis \\ ros-galactic-tracetools \\ ros-galactic-tracetools-analysis \\ ros-galactic-tracetools-launch \\ ros-galactic-tracetools-read \\ ros-galactic-tracetools-test \\ ros-galactic-tracetools-trace caret \u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt update && sudo apt install -y \\ graphviz \\ graphviz-dev python3 -m pip install -U \\ pytest-mock \\ pybind11 \\ pandas \\ bokeh \\ jupyterlab \\ graphviz # julyterlab\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b[ImportError: The Jupyter Server requires tornado >=6.1.0]\u3068\u51fa\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068 # pip install tornado --upgrade CARET \u306e\u30d3\u30eb\u30c9 # mkdir -p ~/ros2_caret_ws/src cd ~/ros2_caret_ws wget https://raw.githubusercontent.com/tier4/CARET_doc/main/caret.repos vcs import src < caret.repos --recursive rosdep install \\ --from-paths src --ignore-src \\ --rosdistro galactic -y \\ --skip-keys \"console_bridge fastcdr fastrtps rti-connext-dds-5.3.1 urdfdom_headers\" # [ERROR: the following packages/stacks could not have their rosdep keys resolved] \u3068\u51fa\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u8a66\u3059\u3053\u3068 # rosdep init # rosdep update source /opt/ros/galactic/setup.bash # \u30d5\u30a9\u30fc\u30af\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3055\u305b\u308b\u305f\u3081\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210 ln -sf ~/ros2_caret_ws/src/ros-tracing/ros2_tracing/tracetools/include/tracetools ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_action/include/rclcpp_action ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_components/include/rclcpp_components/ ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_lifecycle/include/rclcpp_lifecycle/ ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ # CARET\u306e\u30d3\u30eb\u30c9 colcon build --cmake-args -DCMAKE_BUILD_TYPE = Release -DBUILD_TESTING = off --symlink-install ros2 tracing \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d $ source ~/ros2_caret_ws/install/local_setup.bash $ ros2 run tracetools status Tracing enabled","title":"\u74b0\u5883\u69cb\u7bc9"},{"location":"tutorials/setup/#_1","text":"","title":"\u74b0\u5883\u69cb\u7bc9"},{"location":"tutorials/setup/#_2","text":"LTTng \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u8a73\u7d30\u306f LTTng \u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3002 sudo apt-add-repository ppa:lttng/stable-2.12 sudo apt-get update sudo apt-get install lttng-tools lttng-modules-dkms liblttng-ust-dev sudo apt-get install python3-babeltrace python3-lttng ROS 2 galactic \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002 \u8a73\u7d30\u306f ROS2 \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3002 sudo apt update && sudo apt install -y \\ build-essential \\ cmake \\ git \\ python3-colcon-common-extensions \\ python3-flake8 \\ python3-pip \\ python3-pytest-cov \\ python3-rosdep \\ python3-setuptools \\ python3-vcstool \\ wget python3 -m pip install -U \\ flake8-blind-except \\ flake8-builtins \\ flake8-class-newline \\ flake8-comprehensions \\ flake8-deprecated \\ flake8-docstrings \\ flake8-import-order \\ flake8-quotes \\ pytest-repeat \\ pytest-rerunfailures \\ pytest \\ setuptools \\ colorcet sudo apt install ros-galactic-desktop ros2 trace \u95a2\u9023\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt install -y \\ ros-galactic-ros2trace \\ ros-galactic-ros2trace-analysis \\ ros-galactic-tracetools \\ ros-galactic-tracetools-analysis \\ ros-galactic-tracetools-launch \\ ros-galactic-tracetools-read \\ ros-galactic-tracetools-test \\ ros-galactic-tracetools-trace caret \u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo apt update && sudo apt install -y \\ graphviz \\ graphviz-dev python3 -m pip install -U \\ pytest-mock \\ pybind11 \\ pandas \\ bokeh \\ jupyterlab \\ graphviz # julyterlab\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b[ImportError: The Jupyter Server requires tornado >=6.1.0]\u3068\u51fa\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068 # pip install tornado --upgrade","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"tutorials/setup/#caret","text":"mkdir -p ~/ros2_caret_ws/src cd ~/ros2_caret_ws wget https://raw.githubusercontent.com/tier4/CARET_doc/main/caret.repos vcs import src < caret.repos --recursive rosdep install \\ --from-paths src --ignore-src \\ --rosdistro galactic -y \\ --skip-keys \"console_bridge fastcdr fastrtps rti-connext-dds-5.3.1 urdfdom_headers\" # [ERROR: the following packages/stacks could not have their rosdep keys resolved] \u3068\u51fa\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3092\u8a66\u3059\u3053\u3068 # rosdep init # rosdep update source /opt/ros/galactic/setup.bash # \u30d5\u30a9\u30fc\u30af\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3055\u305b\u308b\u305f\u3081\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210 ln -sf ~/ros2_caret_ws/src/ros-tracing/ros2_tracing/tracetools/include/tracetools ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_action/include/rclcpp_action ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_components/include/rclcpp_components/ ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ ln -sf ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp_lifecycle/include/rclcpp_lifecycle/ ~/ros2_caret_ws/src/ros2/rclcpp/rclcpp/include/ # CARET\u306e\u30d3\u30eb\u30c9 colcon build --cmake-args -DCMAKE_BUILD_TYPE = Release -DBUILD_TESTING = off --symlink-install ros2 tracing \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d $ source ~/ros2_caret_ws/install/local_setup.bash $ ros2 run tracetools status Tracing enabled","title":"CARET \u306e\u30d3\u30eb\u30c9"}]}